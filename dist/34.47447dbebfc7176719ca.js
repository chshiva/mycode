webpackJsonp([34],{1267:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{dashboardData:(0,M.dashboardData)(e),loggedInData:(0,g.loggedInData)(e),intlData:(0,T.intlData)(e)}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},d=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,a,s,i){var o=t&&t.defaultProps,n=arguments.length-3;if(a||0===n||(a={}),a&&o)for(var r in o)void 0===a[r]&&(a[r]=o[r]);else a||(a=o||{});if(1===n)a.children=i;else if(n>1){for(var l=Array(n),d=0;d<n;d++)l[d]=arguments[d+3];a.children=l}return{$$typeof:e,type:t,key:void 0===s?null:""+s,ref:null,props:a,_owner:null}}}(),u=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),c=a(0),h=s(c),f=a(25),p=(s(f),a(26)),m=a(12),v=(a(20),a(18)),g=(s(v),a(35),a(33)),y=a(520),b=s(y),D=a(21),_=a(22),S=(s(_),a(1600)),k=s(S),N=a(1601),w=s(N),C=a(1646),M=(s(C),a(345)),x=a(45),O=a(93),R=a(73),T=a(519),I=a(57),P=s(I),E=a(548),B=s(E),L=a(65),j=s(L),F=(a(150),a(154)),Y=a(1431),H=s(Y),A=a(94),W=h["default"].createFactory(O.ToastMessage.animation),U=a(1),V=d("video",{className:"handle",id:"objMixVideo",autoPlay:!0}),K=d("img",{src:"/images/white-icons/white-expand.png"}),q=function(e){function t(e){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.startConference=function(e){m.browserHistory.push(e)},a.showOrHideInviteBox=function(e){a.state.showInviteBox?a.setState({showInviteBox:!a.state.showInviteBox,roomId:null,scheduleId:null,roomKey:"",slotId:null}):a.setState({showInviteBox:!a.state.showInviteBox,roomId:e.roomid,scheduleId:e.scheduleid,roomKey:e.roomkey,slotId:e.slotId})},a.updateRoomswithNewKey=function(e){if(e){a.setState({roomKey:e.link,selectedDate:U().endOf("day").utc().toDate()});var t={startDate:U(a.props.dashboardData.selectedDate).startOf("day").utc().format("x"),endDate:U(a.props.dashboardData.selectedDate).endOf("day").utc().format("x")};a.props.dispatch((0,x.getMyDateSchedules)(t)),a.props.dispatch((0,x.setMyRooms)(e))}},a.confObject=new P["default"],a.state={userData:null,mixStream:!1,activeDrags:0,showInviteBox:!1,roomKey:"",slotId:null},a.onStart=a.onStart.bind(a),a.onStop=a.onStop.bind(a),a}return n(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){e.dashboardData&&e.dashboardData.success&&""!=e.dashboardData.success&&(this.refs.dashboardcontainer.success(e.dashboardData.success+" ",""),this.props.dispatch((0,x.ClearFeeadback)()))}},{key:"componentDidMount",value:function(){if(console.log("Dashboard",this.confObject.getConnectionStatus()),this.setdata(this.props.loggedInData),this.props.dispatch((0,x.getMyRooms)()),this.confObject.getConnectionStatus()){var e=this;this.confObject.trySubscribeMixStream(function(t){console.log("Mix Stream Got",t),e.setState({mixStream:!0}),e.showVideo(t)})}}},{key:"setdata",value:function(e){e&&e.data&&e.data._id&&(this.props.dispatch((0,R.loginLanguage)(this.props.loggedInData.data,this.props.intlData.setlocale)),this.setState({userData:e.data}),e.data.contacts.forEach(function(e){j["default"].subscribeStatus(e._id)}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,x.clearDashboardRooms)()),this.props.dispatch((0,F.setRightBar)({current:null}))}},{key:"showVideo",value:function(e){var t=document.getElementById("objMixVideo");if(t){var a=(window.URL||webkitURL).createObjectURL(e.mediaStream);t.src=a}}},{key:"navigateBack",value:function(){m.browserHistory.push("/conf/"+this.confObject.getRoomKey())}},{key:"onStart",value:function(){this.setState({activeDrags:++this.state.activeDrags})}},{key:"onStop",value:function(){this.setState({activeDrags:--this.state.activeDrags})}},{key:"showResponse",value:function(e){e.status?this.refs.dashboardcontainer.success(e.message,""):e.error&&(console.log("error in showResponse === ",e.error),this.refs.dashboardcontainer.error(e.error,""))}},{key:"render",value:function(){var e=b["default"].mixStream+" "+b["default"].hideObject;this.state.mixStream&&(e=""+b["default"].mixStream);var t={onStart:this.onStart,onStop:this.onStop};return d(D.Row,{},void 0,d(H["default"],{showModal:this.state.showInviteBox,hidecallback:this.showOrHideInviteBox.bind(this),roomId:this.state.roomId,scheduleId:this.state.scheduleId,slotId:this.state.slotId,userId:this.state.userData&&this.state.userData._id?this.state.userData._id:null,errorCallback:this.showResponse.bind(this),roomKey:this.state.roomKey,getNewRooms:this.updateRoomswithNewKey,confFlag:this.confObject.getConnectionStatus()}),d(D.Col,{md:5},void 0,d("div",{className:b["default"].modDashboardCard},void 0,d(k["default"],{userData:this.state.userData,showInviteBox:this.showOrHideInviteBox,getConnection:this.confObject.getConnectionStatus()}))),d(D.Col,{md:7},void 0,d("div",{className:b["default"].modDashboardCard},void 0,h["default"].createElement(O.ToastContainer,{toastMessageFactory:W,ref:"dashboardcontainer",className:"toast-top-right"}),d(w["default"],{invite:this.showOrHideInviteBox,date:this.state.selectedDate,userId:null!=this.state.userData?this.state.userData._id:"",role:this.props.loggedInData.data.role,startConference:this.startConference,getConnection:this.confObject.getConnectionStatus()})),this.props.loggedInData.data.role!=A.Roles.Student?h["default"].createElement(B["default"],l({handle:".handle"},t),d("div",{className:e,title:this.props.intlData.messages.drag},void 0,V,d("span",{id:"backBtn",className:b["default"].videoBackButton,onClick:this.navigateBack.bind(this),title:this.props.intlData.messages.back},void 0,K))):null))}}]),t}(c.Component);q.contextTypes={router:h["default"].PropTypes.object},t["default"]=(0,p.connect)(r)(q)},1416:function(e,t,a){function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},o=a(0),n=s(o),r=a(1639),l=s(r),d={propTypes:{bemNamespace:n["default"].PropTypes.string,bemBlock:n["default"].PropTypes.string},contextTypes:{bemNamespace:n["default"].PropTypes.string,bemBlock:n["default"].PropTypes.string},childContextTypes:{bemNamespace:n["default"].PropTypes.string,bemBlock:n["default"].PropTypes.string},getChildContext:function(){return{bemNamespace:this.getBemNamespace(),bemBlock:this.getBemBlock()}},getBemNamespace:function(){return this.props.bemNamespace?this.props.bemNamespace:this.context.bemNamespace?this.context.bemNamespace:null},getBemBlock:function(){return this.props.bemBlock?this.props.bemBlock:this.context.bemBlock?this.context.bemBlock:null},cx:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t={namespace:this.getBemNamespace(),element:this.constructor.displayName,block:this.getBemBlock()};return i(t,e),(0,l["default"])(t)}};t["default"]=d,e.exports=t["default"]},1427:function(e,t){function a(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function n(e){return void 0===e}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0,a.defaultMaxListeners=10,a.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},a.prototype.emit=function(e){var t,a,i,r,l,d;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(a=this._events[e],n(a))return!1;if(s(a))switch(arguments.length){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),a.apply(this,r)}else if(o(a))for(r=Array.prototype.slice.call(arguments,1),d=a.slice(),i=d.length,l=0;l<i;l++)d[l].apply(this,r);return!0},a.prototype.addListener=function(e,t){var i;if(!s(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,s(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=n(this._maxListeners)?a.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},a.prototype.on=a.prototype.addListener,a.prototype.once=function(e,t){function a(){this.removeListener(e,a),i||(i=!0,t.apply(this,arguments))}if(!s(t))throw TypeError("listener must be a function");var i=!1;return a.listener=t,this.on(e,a),this},a.prototype.removeListener=function(e,t){var a,i,n,r;if(!s(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=this._events[e],n=a.length,i=-1,a===t||s(a.listener)&&a.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(a)){for(r=n;r-- >0;)if(a[r]===t||a[r].listener&&a[r].listener===t){i=r;break}if(i<0)return this;1===a.length?(a.length=0,delete this._events[e]):a.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},a.prototype.removeAllListeners=function(e){var t,a;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(a=this._events[e],s(a))this.removeListener(e,a);else if(a)for(;a.length;)this.removeListener(e,a[a.length-1]);return delete this._events[e],this},a.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?s(this._events[e])?[this._events[e]]:this._events[e].slice():[]},a.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(s(t))return 1;if(t)return t.length}return 0},a.listenerCount=function(e,t){return e.listenerCount(t)}},1431:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.InviteBox=void 0;var r=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,a,s,i){var o=t&&t.defaultProps,n=arguments.length-3;if(a||0===n||(a={}),a&&o)for(var r in o)void 0===a[r]&&(a[r]=o[r]);else a||(a=o||{});if(1===n)a.children=i;else if(n>1){for(var l=Array(n),d=0;d<n;d++)l[d]=arguments[d+3];a.children=l}return{$$typeof:e,type:t,key:void 0===s?null:""+s,ref:null,props:a,_owner:null}}}(),l=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),d=a(0),u=s(d),c=a(12),h=a(20),f=a(22),p=(s(f),a(343)),m=(s(p),a(1)),v=s(m),g=a(521),y=s(g),b=a(21),D=a(95),_=a(31),S=(s(_),a(56)),k=s(S),N=a(520),w=s(N),C=a(148),M=s(C),x=a(45),O=a(93),R=u["default"].createFactory(O.ToastMessage.animation),T=r(h.FormattedMessage,{id:"invalid_mail_id"}),I=r(h.FormattedMessage,{id:"please_enter"}),P=r(h.FormattedMessage,{id:"invalid_mail_id"}),E=r(h.FormattedMessage,{id:"please_enter"}),B=r("h4",{},void 0,r(h.FormattedMessage,{id:"join_meeting"}),"."),L=r(h.FormattedMessage,{id:"conference_room_url"}),j=r(h.FormattedMessage,{id:"cancel"}),F=r(h.FormattedMessage,{id:"invite"}),Y=t.InviteBox=function(e){function t(e){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChange=function(e){","!=e.target.value&&" "!=e.target.value&&a.setState({value:e.target.value})},a.handleKeyPress=function(e){if("Enter"===e.key||" "===e.key||","===e.key){var t=e.target.value.trim();if(""!=t)if(y["default"].isEmail(t)){var s=a.state.mailsList;s.push(t.toLowerCase()),a.setState({mailsList:s,value:"",error:""})}else a.setState({error:T});else a.setState({error:I})}},a.regenerateLink=function(){if(a.props.roomId){var e={roomId:a.props.roomId,date:(0,v["default"])().utc().toDate()};(0,x.RegenerateLink)(e).then(function(t){if(t.status)a.setState({link:t.link}),a.props.getNewRooms(t),a.refs.invite_container.success(t.message,"");else if(console.log("error == ",t.error),810==t.errorCode){var s=(a.props,a.setResponse);alertify.confirm(a.props.intl.messages.warning,a.props.intl.messages.generate_meeting_alert,function(t){t&&(0,x.ConformRegenarate)(e).then(function(e){return s(e)})},function(){}).setting("labels",{ok:a.props.intl.messages.ok,cancel:a.props.intl.messages.cancel})}else a.refs.invite_container.error(t.error,"")})}},a.setResponse=function(e){e.status?(a.setState({link:e.link}),a.props.getNewRooms(e),a.refs.invite_container.success(e.message,"")):(console.log("error === ",e.error),a.refs.invite_container.error(e.error,""))},a.hideModal=function(){a.setState({error:"",mailsList:[],value:""}),a.props.hidecallback()},a.state={mailsList:[],value:"",error:""},a.guestUrl="No link",a}return n(t,e),l(t,[{key:"invitePeople",value:function(){var e=this,t=this.state.value.trim(),a=this.state.mailsList;if(""!=t&&(y["default"].isEmail(t)?a.push(t.toLowerCase()):this.setState({error:P})),a.length>0){var s={mails:a,link:this.guestUrl,scheduleId:this.props.scheduleId,slotId:this.props.slotId};(0,x.sendInviteLink)(s).then(function(t){t.status&&(e.props.hidecallback(),e.setState({mailsList:[],value:"",error:""})),e.props.errorCallback(t)})}else this.setState({error:E})}},{key:"removemail",value:function(e){var t=this.state.mailsList,a=t.indexOf(e.target.id.toLowerCase());a>-1&&t.splice(a,1),this.setState({mailsList:t})}},{key:"render",value:function(){var e=this,t=" "+k["default"].btnSaveAssign+" ",a=""+k["default"].invitationInfoBlock,s=""+w["default"].GS,i=""+w["default"].eV,o=""+w["default"].oj,n=w["default"].wO+" "+w["default"].nr+" "+w["default"].l1,l=""+w["default"].wA,d=""+w["default"].vO,h=""+w["default"].vR,f=w["default"].vN+" "+w["default"].bfK+" "+w["default"].a3q,p=""+w["default"].vT,m=""+w["default"].vM,v=""+M["default"].error,g=w["default"].imgRefreshMain+" "+w["default"].actionIcon,y="",_=this.props.roomKey.split("/conf/");if(this.props.slotId)_[1]="/conf/guestScheduled/",_[2]=this.props.slotId;else{var S=_[1];_[1]="/conf/guest/",_[2]=S}if(this.guestUrl=_.join("")?_.join(""):"No link",this.state.mailsList&&this.state.mailsList.length>0){var N=this.state.mailsList,C=10;y=N.map(function(t){return r("div",{className:h},C++,r("span",{className:f},void 0,r("div",{className:p},void 0,t),r("div",{className:m,id:t,onClick:e.removemail.bind(e)})),r("input",{name:"to",type:"hidden",value:t}))})}return r(b.Modal,{show:this.props.showModal,onHide:this.hideModal},void 0,u["default"].createElement(O.ToastContainer,{toastMessageFactory:R,ref:"invite_container",className:"toast-top-right"}),r(D.Header,{closeButton:!0},void 0,r(D.Title,{className:k["default"].popHeadingAll},void 0,this.props.intl.messages.invite_people," ")),r(D.Body,{},void 0,r("div",{className:k["default"].modInvitation},void 0,r("div",{className:a},void 0,B,r(b.Row,{className:w["default"].blockInvit},void 0,r(b.Col,{md:3},void 0,r("p",{className:k["default"].inviteBlockTxt},void 0,L,":")),r(b.Col,{md:7},void 0,r("div",{className:k["default"].roomLink},void 0,r("p",{style:{color:"#008abc"}},void 0,this.guestUrl))),this.props.confFlag?null:this.props.slotId?null:r(b.Col,{md:2},void 0,r(c.Link,{id:"regenerateLink",title:this.props.intl.messages.regenerate,onClick:this.regenerateLink},void 0,r("div",{className:g},void 0,r("img",{className:w["default"].imgRefresh,src:"/images/black-icons/black-regenerate.png",alt:"regenerate-icon"})))))),r("div",{className:a},void 0,r("div",{className:k["default"].multipleValInput},void 0,r("table",{className:s},void 0,r("tbody",{},void 0,r("tr",{},void 0,r("td",{className:i},void 0,r("div",{id:"mailsList",className:o},void 0,r("div",{className:n},void 0,r("input",{className:l,"aria-hidden":"true"}),y,r("input",{id:"email",type:"text",placeholder:this.props.intl.messages.enter_email,className:d,onKeyPress:this.handleKeyPress.bind(this),onChange:this.handleChange.bind(this),value:this.state.value,autoFocus:"true"}))))))),r("label",{className:v},void 0,this.state.error))))),r(D.Footer,{className:k["default"].mainSaveAssign},void 0,r("div",{className:k["default"].blockSaveAssign},void 0,r("button",{id:"cancel",onClick:this.hideModal},void 0,j),r("button",{id:"inviteSubmitBtn",className:t,onClick:this.invitePeople.bind(this)},void 0,F))))}}]),t}(d.Component);Y.contextTypes={router:u["default"].PropTypes.object},Y.defaultProps={showModal:!1},t["default"]=(0,h.injectIntl)(Y)},1440:function(e,t,a){var s,i;!function(o,n){s=[a(1)],i=function(e){return o.DateRange=n(e)}.apply(t,s),!(void 0!==i&&(e.exports=i))}(this,function(e){function t(t,a){var s,i=t,o=a;1!==arguments.length&&void 0!==a||("object"==typeof t&&2===t.length?(i=t[0],o=t[1]):"string"==typeof t&&(s=t.split("/"),i=s[0],o=s[1])),this.start=e(null===i?-864e13:i),this.end=e(null===o?864e13:o)}function a(t,a,s){for(var i=e(this.start);this.contains(i,s);)a.call(this,i.clone()),i.add(1,t)}function s(t,a,s){var i=this/t,o=Math.floor(i);if(o!==1/0){o===i&&s&&o--;for(var n=0;n<=o;n++)a.call(this,e(this.start.valueOf()+t.valueOf()*n))}}var i={year:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0};return t.prototype.constructor=t,t.prototype.clone=function(){return e().range(this.start,this.end)},t.prototype.contains=function(e,a){var s=this.start,i=this.end;return e instanceof t?s<=e.start&&(i>e.end||i.isSame(e.end)&&!a):s<=e&&(i>e||i.isSame(e)&&!a)},t.prototype.overlaps=function(e){return null!==this.intersect(e)},t.prototype.intersect=function(e){var a=this.start,s=this.end;return a<=e.start&&e.start<s&&s<e.end?new t(e.start,s):e.start<a&&a<e.end&&e.end<=s?new t(a,e.end):e.start<a&&a<=s&&s<e.end?this:a<=e.start&&e.start<=e.end&&e.end<=s?e:null},t.prototype.add=function(a){return this.overlaps(a)?new t(e.min(this.start,a.start),e.max(this.end,a.end)):null},t.prototype.subtract=function(e){var a=this.start,s=this.end;return null===this.intersect(e)?[this]:e.start<=a&&a<s&&s<=e.end?[]:e.start<=a&&a<e.end&&e.end<s?[new t(e.end,s)]:a<e.start&&e.start<s&&s<=e.end?[new t(a,e.start)]:a<e.start&&e.start<e.end&&e.end<s?[new t(a,e.start),new t(e.end,s)]:a<e.start&&e.start<s&&e.end<s?[new t(a,e.start),new t(e.start,s)]:void 0},t.prototype.toArray=function(e,t){var a=[];return this.by(e,function(e){a.push(e)},t),a},t.prototype.by=function(e,t,i){return"string"==typeof e?a.call(this,e,t,i):s.call(this,e,t,i),this},t.prototype.toString=function(){return this.start.format()+"/"+this.end.format()},t.prototype.valueOf=function(){return this.end-this.start},t.prototype.center=function(){var t=this.start+this.diff()/2;return e(t)},t.prototype.toDate=function(){return[this.start.toDate(),this.end.toDate()]},t.prototype.isSame=function(e){return this.start.isSame(e.start)&&this.end.isSame(e.end)},t.prototype.diff=function(e){return this.end.diff(this.start,e)},e.range=function(a,s){return a in i?new t(e(this).startOf(a),e(this).endOf(a)):new t(a,s)},e.range.constructor=t,e.fn.range=e.range,e.fn.within=function(e){return e.contains(this._d)},t})},1450:function(e,t,a){function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1641),o=s(i),n={shouldComponentUpdate:function(e,t){return!(0,o["default"])(this.props,e)||!(0,o["default"])(this.state,t)}};t["default"]=n,e.exports=t["default"]},1453:function(e,t,a){function s(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e&&e.start&&e.end&&n["default"].isMoment(e.start)&&n["default"].isMoment(e.end)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=a(1),n=s(o);a(1440),e.exports=t["default"]},1466:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Scheduler=void 0;var r=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,a,s,i){var o=t&&t.defaultProps,n=arguments.length-3;if(a||0===n||(a={}),a&&o)for(var r in o)void 0===a[r]&&(a[r]=o[r]);else a||(a=o||{});if(1===n)a.children=i;else if(n>1){for(var l=Array(n),d=0;d<n;d++)l[d]=arguments[d+3];a.children=l}return{$$typeof:e,type:t,key:void 0===s?null:""+s,ref:null,props:a,_owner:null}}}(),l=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),d=a(0),u=s(d),c=(a(12),a(20)),h=a(22),f=(s(h),a(343)),p=s(f),m=a(1),v=s(m),g=a(148),y=s(g),b=a(21),D=a(95),S=a(45),k=a(31),N=s(k),w=a(56),C=s(w),M=a(94),x=r(c.FormattedMessage,{id:"invalid_date"}),O=r(c.FormattedMessage,{id:"invalid_start_time"}),R=r(c.FormattedMessage,{id:"minimum_date"}),T=r(c.FormattedMessage,{id:"start_time_greater"}),I=r(c.FormattedMessage,{id:"select_duration"}),P=r(c.FormattedMessage,{id:"enter_occurence"}),E=r(c.FormattedMessage,{id:"select_the_days"}),B=r(c.FormattedMessage,{id:"invalid_enddate"}),L=r(c.FormattedMessage,{id:"select_the_days"}),j=r(c.FormattedMessage,{id:"select_the_endson"}),F=r("option",{value:""},void 0,"No room"),Y=r(c.FormattedMessage,{id:"selectroom"}),H=r(c.FormattedMessage,{id:"create_edit_class"}),A=r(c.FormattedMessage,{id:"create_edit_conference"}),W=r(c.FormattedMessage,{id:"enter_meeting_name"}),U=r(c.FormattedMessage,{id:"select_room"}),V=r("p",{},void 0,r(c.FormattedMessage,{id:"choose_anavailable_date"})),K=r("p",{},void 0,r(c.FormattedMessage,{id:"set_start_time"})),q=r("p",{},void 0,r(c.FormattedMessage,{id:"set_duration"})),$=r("p",{},void 0,r(c.FormattedMessage,{id:"repeats"})),J=r("p",{},void 0,r(c.FormattedMessage,{id:"repeat_every"})),z=r("p",{},void 0,r(c.FormattedMessage,{id:"repeat_on"})),G=r("p",{},void 0,"Repeat By"),X=r(c.FormattedMessage,{id:"ends_on"}),Z=r(c.FormattedMessage,{id:"after"}),Q=r(c.FormattedMessage,{id:"occurences"}),ee=r(c.FormattedMessage,{id:"On"}),te=r(c.FormattedMessage,{id:"set_class_password"}),ae=r(c.FormattedMessage,{id:"set_conference_password"}),se=r("img",{src:"/images/black-icons/black-lock.png"}),ie=r(c.FormattedMessage,{id:"cancel"}),oe=r(c.FormattedMessage,{id:"save"}),ne=t.Scheduler=function(e){function t(e){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleNameChange=function(e){a.setState({meetingName:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleTopicChange=function(e){a.setState({topicId:e.target.value})},a.handleRoomChange=function(e){if(""!=e.target.value){var t=a.state.topicsList[e.target.value];if(0!=t){var s=[["","Select Topic"]];_.each(t,function(e){s.push([e._id,e.topicName])});var i=s.map(function(e){return r("option",{value:e[0]},e[0],e[1])});a.setState({topic:!0,topicOptions:i,topicId:"",roomId:e.target.value})}else a.setState({topic:!1,topicOptions:null,topicId:"",roomId:e.target.value})}else a.setState({topic:!1,topicOptions:null,topicId:"",roomId:""})},a.handleDateChange=function(e){if((0,v["default"])(e,"DD/MM/YYYY").isValid()){var t=(0,v["default"])(e,"DD/MM/YYYY").format("x");if("W"==a.state.type){var s=(0,v["default"])(e,"DD/MM/YYYY").day();a.setState({inputDate:t,days:[s]})}else a.setState({inputDate:t});"M"==a.state.type&&a.findWeekDay(t,a.state.repeatBy)}else a.setState({inputDate:!1})},a.handleStartTimeChange=function(e){(0,v["default"])(e,"x").isValid()?a.setState({startTime:(0,v["default"])(e,"x").format("x")}):a.setState({startTime:!1})},a.handleEndTimeChange=function(e){(0,v["default"])(e,"x").isValid()?a.setState({endTime:(0,v["default"])(e,"x").utc().toDate()}):a.setState({endTime:!1})},a.handleRepeats=function(e){if("W"==e.target.value){var t=(0,v["default"])(a.state.inputDate,"x").day();a.setState({days:[t]})}else"M"==e.target.value&&a.setState({repeatBy:0});"W"!=e.target.value?a.setState({days:[],type:e.target.value}):"M"!=e.target.value?(a.setState({repeatBy:null,type:e.target.value}),a.findWeekDay(a.state.inputDate,0)):a.setState({type:e.target.value})},a.handleRepeatEvery=function(e){a.setState({repeatDuration:Number(e.target.value)})},a.handleRecurring=function(e){a.setState({recurring:!a.state.recurring})},a.handleDays=function(e){var t=a.state.days,s=Number(e.target.value),i=_.indexOf(t,s);i>-1?t.splice(i,1):t.push(s),a.setState({days:t})},a.handleEndson=function(e){var t=Number(e.target.value);1==t?a.setState({endsOn:t}):2==t&&a.setState({endsOn:t})},a.handleEndDate=function(e){(0,v["default"])(e,"DD/MM/YYYY").isValid()?a.setState({endDate:e}):a.setState({endDate:(0,v["default"])().format("DD/MM/YYYY")})},a.handleOccurence=function(e){a.setState({no_of_occurence:e.target.value})},a.findWeekDay=function(e,t){if(0==t){(0,v["default"])(e,"x").date()}else if(1==t){var s=(0,v["default"])(e,"x"),i=(0,v["default"])();i.date(1).month(s.month()).year(s.year()),i=i.subtract(i.day(),"days");for(var o=0,n=i;n.isSame((0,v["default"])().year(s.get("year")).month(s.get("month")).date(s.get("date")))||n.isBefore((0,v["default"])().year(s.get("year")).month(s.get("month")).date(s.get("date")));n.add(1,"days"))n.get("month")==s.get("month")&&n.day()==s.day()&&o++;a.setState({repeatByDay:s.day(),repeatByCount:o})}},a.handleRepeatBy=function(e){var t=Number(e.target.value);a.findWeekDay(a.state.inputDate,t),a.setState({repeatBy:t})},a.handleHours=function(e){a.setState({hours:e.target.value})},a.handleMinutes=function(e){a.setState({minutes:e.target.value})},a.state={date:(0,v["default"])().format("DD/MM/YYYY"),error:"",inputDate:(0,v["default"])().format("x"),startTime:(0,v["default"])().format("x"),endDate:(0,v["default"])().format("DD/MM/YYYY"),no_of_occurence:"",type:"D",repeatDuration:1,days:[],meetingName:"",password:"",topic:!1,roomId:"",topicId:"",waiting:!1,recurring:!1,endsOn:0,repeatBy:0,repeatByDay:null,repeatByCount:null,hours:"",minutes:"",topicsList:{},rooms:null},a.form={},a.id=null,a.cls_block50_l=N["default"].block50+" pull-left",a.cls_btnSaveEdit=" "+C["default"].btnSaveAssign+" ",a.cls_formControlOverwrite=N["default"].formControlOverwrite+" form-control ",a.cls_calendarInlineBlock=N["default"].calendarInlineBlock+" clearfix",a.cls_endsOnBlock=N["default"].endsOnBlock+" clearfix",a.cls_inputGroupAddonOverwrite=N["default"].inputGroupAddonOverwrite+" input-group-addon",a.cls_confDatePicker=N["default"].setDueDateOverwrite+" set-due-date form-control confDatepicker",a.cls_confTimePicker=N["default"].setDueDateOverwrite+" set-due-date form-control confTimeTpicker",a.cls_errcls=""+y["default"].scheduleerror,a.topicField=null,a}return n(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;(0,S.getMyScheduleRooms)().then(function(t){e.setState({rooms:t.data,topicsList:t.topics})})}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.showModal&&(0,S.getMyScheduleRooms)().then(function(e){t.setState({rooms:e.data,topicsList:e.topics})}),e.scheduleData&&null!=e.scheduleData&&0==e.errorStatus&&0==this.state.waiting){var a=null,s=this.state.topicsList[e.scheduleData.roomId];if(0!=s){var i=[["","Select Topic"]];_.each(s,function(e){i.push([e._id,e.topicName])}),a=i.map(function(e){return r("option",{value:e[0]},e[0],e[1])})}if(e.scheduleData.pattern&&""!=e.scheduleData.pattern&&"undefined"!=e.scheduleData.pattern){for(var o=e.scheduleData.pattern,n=o.split("#")[0].split("-")[5],l=o.substring(8).split("-")[0],d=[],u=0;u<l.length;u++)","!=l[u]&&d.push(parseInt(l[u]));var c={recurring:!0,type:o[0],repeatDuration:Number(o[2]),repeatBy:0,days:d};"_"!=n?(c.no_of_occurence=n,c.endsOn=1,this.form.endsOn=1,this.form.no_of_occurence=n,this.form.endDateType="C"):(delete this.form.endDateType,c.no_of_occurence="",c.endsOn=2,this.form.endsOn=2,this.form.no_of_occurence=""),this.setState(c),this.form.repeatBy=0,this.form.repeatDuration=Number(o[2]),this.form.type=o[0]}var h=Math.floor(Number(e.scheduleData.duration)/60),f=Number(e.scheduleData.duration)-60*h;this.setState({date:(0,v["default"])(e.scheduleData.startDate,"x").format("DD/MM/YYYY"),inputDate:(0,v["default"])(e.scheduleData.startDate,"x"),startTime:(0,v["default"])(e.scheduleData.startDate,"x").format("x"),hours:h,minutes:f,meetingName:e.scheduleData.meetingName,password:e.scheduleData.password&&"undefined"!=e.scheduleData.password?e.scheduleData.password:"",topicId:e.scheduleData.topicId,roomId:e.scheduleData.roomId,topic:null!=a,topicOptions:a,endDate:(0,v["default"])(e.scheduleData.endDate,"x").format("DD/MM/YYYY"),error:""}),this.form.endDate=e.scheduleData.endDate,this.id=e.scheduleData._id,this.form.roomId=e.scheduleData.roomId,this.form.topicId=e.scheduleData.topicId,this.form.duration=e.scheduleData.duration}else if(1!=e.errorStatus&&1!=this.state.waiting){delete this.form.roomId,delete this.form.topicId;var p={};if(e.calenderDate){var m=(0,v["default"])().startOf("day"),g=(0,v["default"])(e.calenderDate).endOf("day");+m<+g?(p.date=(0,v["default"])(e.calenderDate).format("DD/MM/YYYY"),p.inputDate=e.calenderDate,p.startTime=(0,v["default"])().format("x")):(p.date=(0,v["default"])().format("DD/MM/YYYY"),p.inputDate=e.calenderDate,p.startTime=(0,v["default"])(e.calenderDate).format("x")),p.hours="",p.minutes="",p.roomId="",p.days=[],p.repeatDuration=1,p.recurring=!1,p.no_of_occurence="",p.type="D",p.endsOn=0,p.repeatBy=0,
p.repeatByDay=null,p.repeatByCount=null,p.meetingName="",p.password="",p.error="",p.topicId="",p.topic=!1,p.endDate=(0,v["default"])().format("DD/MM/YYYY")}this.id=null,this.setState(p)}else this.setState({waiting:!1})}},{key:"handleSave",value:function(){var e=Number((0,v["default"])().seconds(0).format("x"));if(0==this.state.inputDate)this.setState({error:x});else if(0==this.state.startTime)this.setState({error:O});else{var t=(0,v["default"])(this.state.inputDate,"x").endOf("day"),a=(0,v["default"])(this.state.startTime,"x"),s=t.clone();s.hour(a.hour()).minute(a.minute()).second(0).format("x"),t.format("x");var i=""!=this.state.hours?60*this.state.hours:0,o=""!=this.state.minutes?this.state.minutes:0;if(this.form={meetingName:this.state.meetingName,roomId:this.state.roomId,topicId:this.state.topicId,duration:Number(i)+Number(o),recurring:this.state.recurring,password:this.state.password,todayStart:Number((0,v["default"])(this.state.date,"DD/MM/YYYY").startOf("day").utc().format("x")),todayEnd:Number((0,v["default"])(this.state.date,"DD/MM/YYYY").endOf("day").utc().format("x"))},null!=this.id){var n=(0,v["default"])(this.props.selectedDate).startOf("day");n.hour(a.hour()).minute(a.minute()).second(0).utc().format("x"),this.form.edit_start_date=Number(n),this.form.todayStart=Number((0,v["default"])(this.props.selectedDate).startOf("day").utc().format("x")),this.form.todayEnd=Number((0,v["default"])(this.props.selectedDate).endOf("day").utc().format("x"))}else delete this.form.edit_start_date;if(""==this.state.meetingName&&""==this.state.roomId)this.setState({error:null});else if(this.form.meetingName&&""!=this.form.meetingName)if(this.form.roomId&&""!=this.form.roomId)if(null!=this.id&&Number(t)<e||null==this.id&&Number(t)<e)this.setState({error:R});else if(null==this.id&&Number(s)<e)this.setState({error:T});else if(0==this.form.duration)this.setState({error:I});else{var r=(0,v["default"])(s,"x");if(this.form.startDate=Number((0,v["default"])(s,"x").utc().format("x")),this.setState({error:""}),0==this.state.recurring){var l=r.clone();l.add(this.form.duration,"minutes").utc().format("x"),this.form.endDate=Number(l),this.setState({waiting:!0}),this.props.saveSchedule(this.form,this.id)}else if(this.form.type=this.state.type,this.form.repeatDuration=this.state.repeatDuration,1==this.state.endsOn)delete this.form.endDate,""==this.state.no_of_occurence?this.setState({error:P}):(this.form.endDateType="C",this.form.no_of_occurence=Number(this.state.no_of_occurence),"W"==this.state.type&&this.state.days.length<=0?this.setState({error:E}):"W"==this.state.type?(this.form.repeatOn=this.state.days,this.setState({waiting:!0}),this.props.saveSchedule(this.form,this.id)):"M"==this.state.type&&0==this.state.repeatBy?(this.form.repeatBy=this.state.repeatBy,this.setState({waiting:!0}),this.props.saveSchedule(this.form,this.id)):"M"==this.state.type&&1==this.state.repeatBy?(this.form.repeatBy=this.state.repeatBy,this.form.repeatByDay=this.state.repeatByDay,this.form.repeatByCount=this.state.repeatByCount,this.setState({waiting:!0}),this.props.saveSchedule(this.form,this.id)):(delete this.form.repeatOn,this.setState({waiting:!0}),this.props.saveSchedule(this.form,this.id)));else if(2==this.state.endsOn)if(delete this.form.endDateType,delete this.form.no_of_occurence,delete this.form.repeatOn,delete this.form.repeatBy,0==this.state.endDate)this.setState({error:B});else{var d=(0,v["default"])(this.state.endDate,"DD/MM/YYYY");d.hour(r.hour()).minute(r.minute()).second(0),d.add(this.form.duration,"minutes"),this.form.endDate=Number(d.utc().format("x")),"W"==this.state.type&&this.state.days.length<=0?this.setState({error:L}):"W"==this.state.type?(this.form.repeatOn=this.state.days,this.setState({waiting:!0}),this.props.saveSchedule(this.form,this.id)):"M"==this.state.type&&0==this.state.repeatBy?(this.form.repeatBy=this.state.repeatBy,this.setState({waiting:!0}),this.props.saveSchedule(this.form,this.id)):"M"==this.state.type&&1==this.state.repeatBy?(this.form.repeatBy=this.state.repeatBy,this.form.repeatByDay=this.state.repeatByDay,this.form.repeatByCount=this.state.repeatByCount,this.setState({waiting:!0}),this.props.saveSchedule(this.form,this.id)):(this.setState({waiting:!0}),this.props.saveSchedule(this.form,this.id))}else this.setState({error:j})}else this.refs.roomId.focus(),this.setState({error:"roomId"});else this.refs.meetingName.focus(),this.setState({error:"meetingName"})}}},{key:"render",value:function(){var e=this;if(this.props.role)var t=this.props.role;for(var a=N["default"].onCalPadding1+" col-sm-3 ",s=N["default"].onCalPadding2+" col-sm-9 ",i=N["default"].colForinput1+" col-sm-5 ",o=N["default"].colForinput2+" col-sm-7 ",n=N["default"].schedlHour+" col-sm-6 ",l=N["default"].schedlMins+" col-sm-6 ",d=this.state.date,c=[0,5,10,15,20,25,30,35,40,45,50,55],h=[0,1,2,3,4,5,6,7,8,9,10,11],f=[{key:"D",value:"Daily"},{key:"W",value:"Weekly"},{key:"M",value:"Monthly"},{key:"Y",value:"Yearly"}],m=[{key:0,value:"S",keyvalue:"0Sun"},{key:1,value:"M",keyvalue:"1Mon"},{key:2,value:"T",keyvalue:"2Tue"},{key:3,value:"W",keyvalue:"3Wed"},{key:4,value:"T",keyvalue:"4Thu"},{key:5,value:"F",keyvalue:"5Fri"},{key:6,value:"S",keyvalue:"6Sat"}],g=[],y=1;y<=30;y++)g.push(y);var S="",k=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],w=["first","second","third","fourth","fifth"];if("D"==this.state.type)S="Summary : ",S+=1==this.state.repeatDuration?"Daily":"Every "+this.state.repeatDuration+" days";else if("W"==this.state.type){S="Summary : ",S+=1==this.state.repeatDuration?"Weekly":"Every "+this.state.repeatDuration+" weeks",S+=" on";for(var x=0;x<this.state.days.length;x++)S+=" "+k[this.state.days[x]]}else"M"==this.state.type?(S="Summary : ",S+=1==this.state.repeatDuration?"Monthly":"Every "+this.state.repeatDuration+" months",S+=0==this.state.repeatBy?" on day "+(0,v["default"])(this.state.inputDate,"x").date():1==this.state.repeatBy?" on "+w[this.state.repeatByCount-1]+" "+k[this.state.repeatByDay]:""):"Y"==this.state.type&&(S="Summary : ",S+=1==this.state.repeatDuration?"Yearly":"Every "+this.state.repeatDuration+" years");S+=1==this.state.endsOn&&""!=this.state.no_of_occurence?", "+this.state.no_of_occurence+" times":1==this.state.endsOn?", 0 times":2==this.state.endsOn?", until "+(0,v["default"])(this.state.endDate,"DD/MM/YYYY").format("MMM Do YYYY"):"";var O=F;if(this.state.rooms){var R=this.state.rooms,T=[{_id:"",name:Y}];if(R.length>0){R.map(function(e){T.push({_id:e._id,name:e.roomName})})}O=T.map(function(e){return r("option",{value:e._id},e._id,e.name)})}var I=(0,v["default"])(),P=this.state.date,E={"float":"left",marginTop:"2px"},B={marginLeft:"8px"},L={"float":"left",marginTop:"2px"};return r(b.Modal,{show:this.props.showModal,onHide:this.props.hidecallback},void 0,r(D.Header,{closeButton:!0},void 0,r(D.Title,{className:C["default"].popHeadingAll},void 0,t==M.Roles.Instructor||t==M.Roles.Lmsadmin?H:A)),r(D.Body,{},void 0,r("div",{className:N["default"].meetingDetails},void 0,r("div",{className:N["default"].meetingInfoBlock},void 0,r("form",{},void 0,r("div",{className:"form-group"},void 0,u["default"].createElement("input",{id:"meetingName",type:"text",name:"meetingName",ref:"meetingName",className:this.cls_formControlOverwrite,placeholder:t==M.Roles.Instructor||t==M.Roles.Lmsadmin?this.props.intl.messages.please_enter_class_name:this.props.intl.messages.please_enter_meeting_name,value:this.state.meetingName,onChange:this.handleNameChange,maxLength:30,autoFocus:"true"}),r("small",{id:"meetingError",className:N["default"].inputError},void 0,"meetingName"==this.state.error||null==this.state.error?W:null),u["default"].createElement("select",{id:"roomId",name:"roomId",ref:"roomId",className:this.cls_formControlOverwrite,defaultValue:this.state.roomId,onChange:this.handleRoomChange.bind(this)},O),r("small",{id:"roomIdError",className:N["default"].inputError},void 0,"roomId"==this.state.error||null==this.state.error?U:null),1==this.state.topic?u["default"].createElement("select",{id:"topic",key:"topic",ref:"topic",className:this.cls_formControlOverwrite,value:this.state.topicId,onChange:this.handleTopicChange.bind(this)},this.state.topicOptions):null,this.state.topicField),r("div",{className:this.cls_calendarInlineBlock},void 0,r("ul",{className:"clearfix"},void 0,r("li",{className:N["default"].schedlDate},void 0,V,r("div",{id:"currentDate",className:N["default"].dateTimePickerBlock},void 0,r(p["default"],{dateTime:(0,v["default"])().format("DD/MM/YYYY"),format:"DD/MM/YYYY",viewMode:"date",mode:"date",inputFormat:"DD/MM/YYYY",onChange:this.handleDateChange,minDate:I,defaultText:P}))),r("li",{className:N["default"].schedlTime},void 0,K,r("div",{id:"startTime",className:N["default"].dateTimePickerBlock},void 0,r(p["default"],{mode:"time",onChange:this.handleStartTimeChange,dateTime:this.state.startTime}))),r("li",{className:N["default"].schedlDuration},void 0,q,r("div",{className:N["default"].dateTimePickerBlock},void 0,r("div",{className:"form-group"},void 0,r("div",{className:"row"},void 0,r("div",{className:n},void 0,r("select",{id:"schedlHour",className:"form-control",onChange:this.handleHours,defaultValue:this.state.hours},void 0,h.map(function(e){return r("option",{value:e},e,e," hrs")}))),r("div",{className:l},void 0,r("select",{id:"schedMinits",className:"form-control",onChange:this.handleMinutes,defaultValue:this.state.minutes},void 0,c.map(function(e){return r("option",{value:e},e,e," mins")}))))))))),r("div",{className:"form-group"},void 0,u["default"].createElement("input",{id:"recuringCheckbox",style:E,type:"checkbox",ref:"recurring",onChange:this.handleRecurring,value:"true",checked:this.state.recurring})," ",r("span",{style:B},void 0," ",this.props.intl.messages.recurring_schedule," ")),1==this.state.recurring?r("div",{style:{clear:"both"}},void 0,r("div",{className:this.cls_calendarInlineBlock},void 0,r("ul",{className:"clearfix"},void 0,r("li",{className:N["default"].repeatsList1},void 0,$,r("div",{className:N["default"].dateTimePickerBlock},void 0,r("select",{id:"repeat",className:"form-control",onChange:this.handleRepeats,defaultValue:this.state.type},void 0,f.map(function(e){return r("option",{value:e.key},e.key,e.value)})))),r("li",{className:N["default"].repeatsList2},void 0,J,r("div",{id:"repeatEvery",className:N["default"].dateTimePickerBlock,onChange:this.handleRepeatEvery},void 0,r("select",{id:"repeatDuration",className:"form-control",defaultValue:this.state.repeatDuration},void 0,g.map(function(t){return r("option",{value:t},t,t," ","D"==e.state.type?"days":"W"==e.state.type?"weeks":"M"==e.state.type?"months":"Y"==e.state.type?"years":"")})))))),"W"==this.state.type?r("div",{className:this.cls_endsOnBlock},void 0,z,r("ul",{className:"clearfix"},void 0,m.map(function(t){return r("li",{},t.keyvalue,r("div",{className:"form-group"},void 0,r("div",{className:"col-sm-12"},void 0,r("input",{id:"daysCheckbox",type:"checkbox",name:"days",value:t.key,onChange:e.handleDays,checked:_.indexOf(e.state.days,t.key)>-1})," ",t.value)))}))):"M"==this.state.type?r("div",{className:this.cls_endsOnBlock},void 0,G,r("ul",{className:"clearfix"},void 0,r("li",{},void 0,r("div",{className:"form-group"},void 0,r("div",{className:"col-sm-12"},void 0,r("input",{id:"monthType0",type:"radio",name:"monthtype",value:"0",onChange:this.handleRepeatBy,checked:0==this.state.repeatBy})," day of the month"))),r("li",{},void 0,r("div",{className:"form-group"},void 0,r("div",{className:"col-sm-12"},void 0,r("input",{id:"monthType1",type:"radio",name:"monthtype",value:"1",onChange:this.handleRepeatBy,checked:1==this.state.repeatBy})," day of the week"))))):null,r("div",{className:this.cls_endsOnBlock},void 0,r("p",{className:N["default"].endOnPara},void 0,X),r("ul",{className:"clearfix"},void 0,r("li",{},void 0,r("div",{className:"form-group"},void 0,r("div",{className:i},void 0,r("input",{id:"endsOn1",style:{"float":"left"},type:"radio",value:"1",name:"ends_on",onChange:this.handleEndson,checked:1==this.state.endsOn}),r("span",{style:{marginLeft:"4px"}},void 0,Z)," ",r("span",{style:{marginLeft:"8px"}},void 0,r("input",{type:"text",style:{width:"30px"},value:this.state.no_of_occurence,onChange:this.handleOccurence,disabled:1!=this.state.endsOn,maxLength:3}),r("span",{style:{marginLeft:"4px"}},void 0,Q))),r("div",{className:o},void 0,r("div",{className:a},void 0,r("span",{className:N["default"].onSpan},void 0,r("input",{id:"endsOn2",style:L,type:"radio",value:"2",name:"ends_on",onChange:this.handleEndson,checked:2==this.state.endsOn}),r("span",{style:{marginLeft:"4px"}},void 0,ee)," ")),r("div",{id:"endDate",className:s},void 0,r(p["default"],{dateTime:d,format:"DD/MM/YYYY",viewMode:"date",mode:"date",inputFormat:"DD/MM/YYYY",onChange:this.handleEndDate,minDate:I,defaultText:this.state.endDate}))))))),r("div",{},void 0,r("p",{style:{textAlign:"center",fontWeight:"600"}},void 0,S))):null))),r("div",{className:N["default"].setConfPassword},void 0,r("h2",{},void 0,t==M.Roles.Instructor||t==M.Roles.Lmsadmin?te:ae),r("div",{className:N["default"].iconBlock},void 0,se),r("div",{className:N["default"].passWordBlock},void 0,r("div",{},void 0,u["default"].createElement("input",{id:"password",type:"password",name:"password",ref:"password",value:this.state.password,onChange:this.handlePasswordChange,maxLength:30}))))),r(D.Footer,{className:C["default"].mainSaveAssign},void 0,r("div",{className:C["default"].errorSaveAssign},void 0,r("label",{id:"error",className:this.cls_errcls},void 0,""!=this.state.error&&"meetingName"!=this.state.error&&"roomId"!=this.state.error?this.state.error:null)),r("div",{className:C["default"].blockSaveAssign},void 0,r("button",{id:"cancel",onClick:this.props.hidecallback},void 0,ie),r("button",{id:"saveBtn",className:this.cls_btnSaveEdit,onClick:this.handleSave.bind(this)},void 0,oe))))}}]),t}(d.Component);ne.contextTypes={router:u["default"].PropTypes.object,intl:u["default"].PropTypes.object.isRequired},ne.defaultProps={showModal:!1},t["default"]=(0,c.injectIntl)(ne)},1508:function(e,t,a){"use strict";var s=a(163);e.exports={shouldComponentUpdate:function(e,t){return!s(this.props,e)||!s(this.state,t)}}},1509:function(e,t,a){function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1),o=s(i);a(1440);var n=a(1453),r=s(n);t["default"]={momentOrMomentRange:function(e,t){var a=e[t];return a?o["default"].isMoment(a)?null:(0,r["default"])(a)?null:new Error("'"+t+"' must be a moment or a moment range"):null},moment:function(e,t){var a=e[t];return a?o["default"].isMoment(a)?null:new Error("'"+t+"' must be a moment"):null},momentRange:function(e,t){var a=e[t];return a?(0,r["default"])(a)?null:new Error("'"+t+"' must be a moment range"):null}},e.exports=t["default"]},1529:function(e,t){/*!
	 * calendar: a port of the calendar module from Python
	 * Copyright(c) 2011 Luciano Ramalho <luciano@ramalho.org>
	 * MIT Licensed
	 */
t.version="0.1.0";var a=function(e){this.message=e,this.toString=function(){return this.constructor.name+": "+this.message}},s=function(e){this.firstWeekDay=e||0};s.prototype={constructor:s,weekStartDate:function(e){for(var t=new Date(e.getTime());t.getDay()!==this.firstWeekDay;)t.setDate(t.getDate()-1);return t},monthDates:function(e,t,s,i){if("number"!=typeof e||e<1970)throw new a("year must be a number >= 1970");if("number"!=typeof t||t<0||t>11)throw new a("month must be a number (Jan is 0)");var o=[],n=[],r=0,l=this.weekStartDate(new Date(e,t,1));do{for(r=0;r<7;r++)n.push(s?s(l):l),l=new Date(l.getTime()),l.setDate(l.getDate()+1);o.push(i?i(n):n),n=[]}while(l.getMonth()<=t&&l.getFullYear()===e);return o},monthDays:function(e,t){var a=function(e){return e.getMonth()===t?e.getDate():0};return this.monthDates(e,t,a)},monthText:function(e,t){if("undefined"==typeof e){var a=new Date;e=a.getFullYear(),t=a.getMonth()}var s=function(e){for(var a=e.getMonth()===t?e.getDate().toString():"  ";a.length<2;)a=" "+a;return a},i=this.monthDates(e,t,s,function(e){return e.join(" ")});return i.join("\n")}};for(var i="JAN FEB MAR APR MAY JUN JUL AUG SEP OCT NOV DEC".split(" "),o=0;o<i.length;o++)s[i[o]]=o;t.Calendar=s},1589:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CarouselRoomsList=void 0;var r=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,a,s,i){var o=t&&t.defaultProps,n=arguments.length-3;if(a||0===n||(a={}),a&&o)for(var r in o)void 0===a[r]&&(a[r]=o[r]);else a||(a=o||{});if(1===n)a.children=i;else if(n>1){for(var l=Array(n),d=0;d<n;d++)l[d]=arguments[d+3];a.children=l}return{$$typeof:e,type:t,key:void 0===s?null:""+s,ref:null,props:a,_owner:null}}}(),l=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),d=a(0),u=s(d),c=(a(12),a(20)),h=a(22),f=(s(h),a(21)),p=a(555),m=a(520),v=s(m),g=a(1),y=(a(62),r(c.FormattedMessage,{id:"valid_untill"})),b=r(c.FormattedMessage,{id:"valid_untill"}),D=r("h2",{},void 0,r(c.FormattedMessage,{id:"no_rooms"})),_=r(c.FormattedMessage,{id:"presenter_mode"}),S=r("p",{},void 0,r(c.FormattedMessage,{id:"select_your_room"})),k=t.CarouselRoomsList=function(e){function t(){var e,a,s,n;i(this,t);for(var l=arguments.length,d=Array(l),u=0;u<l;u++)d[u]=arguments[u];return a=s=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),s.showValidity=function(e){var t=g(e).startOf("day"),a=g().startOf("day");return+t<+a?r("span",{},void 0,y,": ",r("strong",{className:v["default"].expired},void 0,"Expired")):r("span",{},void 0,b,": ",r("strong",{},void 0,t.format("MMM Do YYYY")))},n=a,o(s,n)}return n(t,e),l(t,[{key:"handle",value:function(e){this.props.roomIndex(e)}},{key:"render",value:function(){var e=this,t=v["default"].modRoomInfoBlock+" clearfix",a=r(p.Item,{active:!0},"no rooms",r("div",{className:v["default"].roomItem},void 0,D));if(null!=this.props.roomsList){var s=this.props.roomsList;s.length>0&&(a=s.map(function(t){return r(p.Item,{},t._id,r("div",{className:v["default"].roomItem},void 0,r("h2",{},void 0,t.roomName,"."),r("p",{},void 0,_," ",e.showValidity(t.selPackage.packageValidity))))}))}return r("div",{className:t},void 0,r("div",{className:v["default"].myRoomListBlock},void 0,r("div",{className:v["default"].sliderWrapper},void 0,S,r("div",{className:v["default"].slider},void 0,r(f.Carousel,{bsClass:"roomCarousel",indicators:!1,slide:!0,interval:0,onSelect:this.handle.bind(this),defaultActiveIndex:0},void 0,a)))))}}]),t}(d.Component);k.contextTypes={router:u["default"].PropTypes.object},t["default"]=(0,c.injectIntl)(k)},1599:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RoomOptions=void 0;var l=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,a,s,i){var o=t&&t.defaultProps,n=arguments.length-3;if(a||0===n||(a={}),a&&o)for(var r in o)void 0===a[r]&&(a[r]=o[r]);else a||(a=o||{});if(1===n)a.children=i;else if(n>1){for(var l=Array(n),d=0;d<n;d++)l[d]=arguments[d+3];a.children=l}return{$$typeof:e,type:t,key:void 0===s?null:""+s,ref:null,props:a,_owner:null}}}(),d=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),u=a(0),c=s(u),h=(a(26),a(17)),f=(s(h),a(12)),p=a(20),m=a(22),v=(s(m),a(18)),g=(s(v),a(21),a(520)),y=s(g),b=(a(45),a(74),a(1629)),D=s(b),_=a(1431),S=(s(_),a(93)),k=a(94),N=c["default"].createFactory(S.ToastMessage.animation),w=(a(1),l("img",{src:"/images/black-icons/black-copy.png",alt:"copy-icon"})),C=l("img",{src:"/images/black-icons/black-share.png",alt:"share-icon"}),M=l("img",{src:"/images/black-icons/black-mailclient.png",alt:"mailclient-icon"}),x=l("img",{src:"/images/black-icons/black-manage-user.png",alt:"manage-user-icon"}),O=l("img",{src:"/images/black-icons/black-topics.png",alt:"manage-topics-icon"}),R=l("img",{src:"/images/black-icons/black-questionnaire.png",alt:"manage-questionnaire-icon"}),T=l("img",{src:"/images/black-icons/black-assignments.png",alt:"manage-assignments-icon"}),I=l("img",{src:"/images/black-icons/black-view-attendance.png",alt:"view-attendance-icon"}),P=l("img",{src:"/images/black-icons/black-assignments.png",alt:"manage-assignments-icon"}),E=t.RoomOptions=function(e){function t(e){o(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.copyLink=function(){a.refs.roomoptions_container.success(" Link Copied. ","")},a.getNewRooms=function(e){console.log("response === ",e),a.props.getNewRooms(e)},a.handleAssignment=function(e){var t=e.currentTarget.id;a.props.handleAssignment(t)},a.state={},a.cls_lnkBox=y["default"].linkColor+" "+y["default"].lnkBox,a}return r(t,e),d(t,[{key:"showInviteBox",value:function(){var e={roomid:this.props.roomData._id,scheduleid:null,roomkey:this.props.roomData.roomKey};this.props.invite(e)}},{key:"showResponse",value:function(e){e.status?this.refs.roomoptions_container.success(e.message,""):e.err&&(console.log("error ==== ",e.err),this.refs.roomoptions_container.err(e.err,""))}},{key:"render",value:function(){if(this.props.roomData){var e,t=this.props.roomData.roomKey.split("/conf/"),a=t[1];t[1]="/conf/guest/",t[2]=a,t=t.join("")?t.join(""):"no link";var s=(y["default"].roomInfoDetaile+" hidden-xs hidden-sm",y["default"].inviteActions+" clearfix",y["default"].rightActionBlock+" pull-right"),o=y["default"].actionBlock+" pull-left",n="mailto:?Subject=Conference Link&body=Conference link is :: "+t,r="/admin/room/adduser/"+this.props.roomData._id,d="/admin/room/listtopic/"+this.props.roomData._id,u="/admin/room/assignments/"+this.props.roomData._id,h="/admin/questionnaire/list",p="/course/attendance/"+this.props.roomData._id;return l("div",{className:"clearfix"},void 0,c["default"].createElement(S.ToastContainer,{toastMessageFactory:N,ref:"roomoptions_container",className:"toast-top-right"}),l("div",{className:y["default"].roomLinkTxtBlock},void 0),l("div",{className:o},void 0,this.props.roomData.roomKey&&this.props.role!=k.Roles.Student&&this.props.role!=k.Roles.Attendee?l("ul",{},void 0,l("li",{},void 0,l(f.Link,{id:"copy",title:this.props.intl.messages.copy_this_link},void 0,l("div",{className:y["default"].actionIcon},void 0,l(D["default"],{text:t,onCopy:this.copyLink},void 0,w)))),l("li",{},void 0,l(f.Link,{id:"shareLink",title:this.props.intl.messages.share_Link,onClick:this.showInviteBox.bind(this)},void 0,l("div",{className:y["default"].actionIcon},void 0,C))),l("li",{},void 0,l(f.Link,{id:"openMail",to:n,target:"_top",title:this.props.intl.messages.open_mail_client},void 0,l("div",{className:y["default"].actionIcon},void 0,M)))):null),l("div",{className:s},void 0,l("ul",{},void 0,this.props.userId==this.props.roomData.createdBy||this.props.role==k.Roles.Superadmin||this.props.role==k.Roles.Admin||this.props.role==k.Roles.Lmsadmin||this.props.role==k.Roles.CRMadmin||this.props.role==k.Roles.Presenteradmin?l("li",{},void 0,l(f.Link,{id:"addParticipants",to:r,title:this.props.intl.messages.add_participants},void 0,l("div",{className:y["default"].actionIcon},void 0,x))):null,this.props.roomData.selPackage.features.indexOf("Topics")==-1||this.props.role!=k.Roles.Superadmin&&this.props.role!=k.Roles.Admin&&this.props.role!=k.Roles.Lmsadmin&&this.props.role!=k.Roles.Instructor&&this.props.role!=k.Roles.CRMadmin&&this.props.role!=k.Roles.Presenteradmin&&this.props.role!=k.Roles.Presenter?null:l("li",{},void 0,l(f.Link,{id:"addTopic",to:d,title:this.props.intl.messages.add_topics},void 0,l("div",{className:y["default"].actionIcon},void 0,O))),this.props.roomData.selPackage.features.indexOf("Topics")==-1||this.props.role!=k.Roles.Superadmin&&this.props.role!=k.Roles.Admin&&this.props.role!=k.Roles.Lmsadmin&&this.props.role!=k.Roles.Instructor&&this.props.role!=k.Roles.CRMadmin&&this.props.role!=k.Roles.Presenteradmin&&this.props.role!=k.Roles.Presenter?null:l("li",{},void 0,l(f.Link,{id:"questionnaireLink",to:h,title:this.props.intl.messages.manage_questionnaire},void 0,l("div",{className:y["default"].actionIcon},void 0,R))),this.props.roomData.selPackage.features.indexOf("Topics")==-1||this.props.role!=k.Roles.Instructor&&this.props.role!=k.Roles.Presenter?null:l("li",{},void 0,l(f.Link,{id:"assignmentLink",to:u,title:this.props.intl.messages.manage_assignments},void 0,l("div",{className:y["default"].actionIcon},void 0,T))),this.props.role==k.Roles.Student?l("li",{},void 0,l(f.Link,{id:"viewAttendance",to:p,title:this.props.intl.messages.view_attendance},void 0,l("div",{className:y["default"].actionIcon},void 0,I))):null,this.props.roomData.selPackage.features.indexOf("Topics")!=-1&&this.props.role==k.Roles.Student?l("li",{},void 0,l(f.Link,(e={id:"manageAssignments",title:this.props.intl.messages.manage_assignments},i(e,"id",this.props.roomData.roomKey),i(e,"onClick",this.handleAssignment),e),void 0,l("div",{className:y["default"].actionIcon},void 0,P))):null)))}return null}}]),t}(u.Component);E.contextTypes={router:c["default"].PropTypes.object},t["default"]=(0,p.injectIntl)(E)},1600:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{dashboardData:(0,M.dashboardData)(e),intlData:(0,R.intlData)(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Rooms=void 0;var l=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,a,s,i){var o=t&&t.defaultProps,n=arguments.length-3;if(a||0===n||(a={}),a&&o)for(var r in o)void 0===a[r]&&(a[r]=o[r]);else a||(a=o||{});if(1===n)a.children=i;else if(n>1){for(var l=Array(n),d=0;d<n;d++)l[d]=arguments[d+3];a.children=l}return{$$typeof:e,type:t,key:void 0===s?null:""+s,ref:null,props:a,_owner:null}}}(),d=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),u=a(0),c=s(u),h=a(26),f=a(12),p=a(20),m=a(22),v=s(m),g=a(1599),y=s(g),b=a(1589),D=(s(b),a(21),a(555),a(520)),_=s(D),S=a(56),k=s(S),N=a(31),w=s(N),C=a(94),M=a(345),x=a(45),O=a(150),R=a(519),T=a(522),I=s(T),P=a(1),E=(a(62),l("img",{src:"/images/black-icons/black-manage-room.png"})),B=l(v["default"],{name:"angle-double-right"}),L=l(p.FormattedMessage,{id:"join"}),j=l("img",{src:"/images/profile-pics/default-group.jpg"}),F=l(v["default"],{name:"times"}),Y=l(I["default"],{loadType:"list"}),H=t.Rooms=function(e){function t(e){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showValidity=function(e){var t=P(e),s=P();return+t<+s?l("span",{},void 0,a.props.intlData.messages.valid_untill," : ",l("strong",{className:_["default"].expired},void 0,"Expired")):l("span",{},void 0,a.props.intlData.messages.valid_untill," : ",l("strong",{},void 0,t.format("MMM Do YYYY")))},a.startConference=function(e){var t=e.currentTarget.id;f.browserHistory.push(t)},a.handleAssignment=function(e){a.props.dispatch((0,O.setWorkDashboard)({current:"assignmentList"})),f.browserHistory.push(e)},a.state={searchcss:""+_["default"].searchBox,value:"",currentId:"",roomRefresh:!1},a}return n(t,e),d(t,[{key:"updateRooms",value:function(e){e&&(this.props.getSchedules(),this.props.dispatch((0,x.setMyRooms)(e)))}},{key:"getnewRooms",value:function(){var e=this;this.setState({roomRefresh:!0}),this.props.dispatch((0,x.getMyRooms)()).then(function(t){e.setState({roomRefresh:!1})})}},{key:"showOrhideSearchbox",value:function(){this.state.searchcss==_["default"].searchBox+" "+_["default"].showSearchBox?(this.setState({searchcss:""+_["default"].searchBox,value:""}),this.props.dispatch((0,x.searchMyRooms)(""))):this.setState({searchcss:_["default"].searchBox+" "+_["default"].showSearchBox})}},{key:"handleChange",value:function(e){this.props.dispatch((0,x.searchMyRooms)(e.target.value)),this.setState({currentId:"",value:e.target.value})}},{key:"showRoomOptions",value:function(e){var t=e.currentTarget.id;this.setState({currentId:t})}},{key:"render",value:function(){var e=this,t=(_["default"].modRoomInfoBlock+" clearfix",_["default"].roomLinkBlock+" "+_["default"].roomLinkBlockHide),a=""+_["default"].roomLinkBlock,s=w["default"].contactContainer+" clearfix",i=l("div",{className:w["default"].modNoContacts},void 0,l("div",{className:w["default"].noContactsCircle},void 0,E),l("h2",{},void 0,this.props.intlData.messages.no_rooms),!this.props.userData||this.props.userData.role!=C.Roles.Superadmin&&this.props.userData.role!=C.Roles.Admin&&this.props.userData.role!=C.Roles.Lmsadmin&&this.props.userData.role!=C.Roles.CRMadmin&&this.props.userData.role!=C.Roles.Presenteradmin?null:l("div",{className:_["default"].createBlock},void 0,l(f.Link,{id:"createNewRoom",to:"admin/room/new",title:this.props.intlData.messages.create_new_room},void 0,this.props.intlData.messages.create_a_room," ",B)));if(this.props.dashboardData&&this.props.dashboardData.myrooms&&this.props.dashboardData.myrooms.length>0){var o=0,n={backgroundColor:"#eee"},r={backgroundColor:"#fff"};i=this.props.dashboardData.myrooms.map(function(i){return o++,l("li",{style:1==o&&""==e.state.currentId?n:e.state.currentId==i._id?n:r},i._id,e.props.getConnection?null:l("div",{className:_["default"].roomListactionBlock,id:i.roomKey,onClick:e.startConference},void 0,l("span",{className:_["default"].roomListactionStart,title:e.props.userData&&e.props.userData.role==C.Roles.Student?e.props.intlData.messages.join_class:!e.props.userData||e.props.userData.role!=C.Roles.Instructor&&e.props.userData.role!=C.Roles.Lmsadmin?e.props.intlData.messages.start_conference:e.props.intlData.messages.start_class},void 0,L)),l(f.Link,{className:"clearfix",id:i._id,onClick:e.showRoomOptions.bind(e)},void 0,l("div",{className:s},void 0,l("div",{className:w["default"].avatarBox},void 0,j),l("div",{className:w["default"].contactInfoBox},void 0,l("h3",{},void 0,i.roomName,".",l("p",{},void 0,l("span",{className:"hidden-xs"},void 0,i.corporateId&&("Conference"==i.corporateId.businessType||"CRM"==i.corporateId.businessType)?e.props.intlData.messages.conference_mode:e.props.intlData.messages.presenter_mode)," ",null!=i.expiryDate?e.showValidity(i.expiryDate):null))))),l("div",{className:1==o&&""==e.state.currentId?a:e.state.currentId==i._id?a:t},void 0,l(y["default"],{getNewRooms:e.updateRooms.bind(e),roomData:i,userId:e.props.userData?e.props.userData._id:null,role:e.props.userData?e.props.userData.role:-1,handleAssignment:e.handleAssignment,invite:e.props.showInviteBox})))})}return l("div",{className:_["default"].tableBox},void 0,l("div",{className:_["default"].modCardHeader},void 0,l("div",{className:this.state.searchcss},void 0,l("div",{className:"clearfix"},void 0,l("input",{id:"search",type:"search",style:{display:"none"}}),l("input",{id:"search",type:"search",className:_["default"].searchInput,placeholder:this.props.intlData.messages.search_rooms,onChange:this.handleChange.bind(this),value:this.state.value,maxLength:50,autoFocus:"true"}),l("div",{id:"closeSearchInput",className:_["default"].closeSearchInput,onClick:this.showOrhideSearchbox.bind(this)},void 0,F))),l("h2",{},void 0,l("span",{},void 0,this.props.intlData.messages.my_rooms)),l("div",{className:_["default"].modRoomControls},void 0,l("ul",{},void 0,l("li",{className:"hidden-xs"},void 0,l(f.Link,{id:"newRooms",onClick:this.getnewRooms.bind(this)},void 0,l("img",{src:"/images/black-icons/black-regenerate.png",className:1==this.state.roomRefresh?_["default"].spinAnimation:null,title:this.props.intlData.messages.refresh_rooms}))),l("li",{},void 0,l(f.Link,{id:"showOrhideSearchbox",onClick:this.showOrhideSearchbox.bind(this)},void 0,l("img",{src:"/images/black-icons/black-search.png",title:this.props.intlData.messages.search_room})))))),l("div",{className:_["default"].modCardBody},void 0,l("div",{className:w["default"].modAsideListBody},void 0,l("div",{className:w["default"].modContactList},void 0,this.props.dashboardData&&null!=this.props.dashboardData.myrooms?l("ul",{},void 0,i):l("div",{className:k["default"].mainSpinBlock},void 0,l("div",{className:k["default"].innerSpinBlock},void 0,Y))))))}}]),t}(u.Component);H.contextTypes={router:c["default"].PropTypes.object},t["default"]=(0,h.connect)(r)(H)},1601:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{dashboardData:(0,O.dashboardData)(e)}}function r(e){return{dashboardData:(0,O.dashboardData)(e),intlData:(0,R.intlData)(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Schedule=void 0;var l=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,a,s,i){var o=t&&t.defaultProps,n=arguments.length-3;if(a||0===n||(a={}),a&&o)for(var r in o)void 0===a[r]&&(a[r]=o[r]);else a||(a=o||{});if(1===n)a.children=i;else if(n>1){for(var l=Array(n),d=0;d<n;d++)l[d]=arguments[d+3];a.children=l}return{$$typeof:e,type:t,key:void 0===s?null:""+s,ref:null,props:a,_owner:null}}}(),d=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),u=a(0),c=s(u),h=a(12),f=a(20),p=a(22),m=s(p),v=a(1630),g=s(v),y=a(26),b=a(21),D=a(95),S=a(520),k=s(S),N=a(31),w=s(N),C=a(1431),M=(s(C),a(1466)),x=s(M),O=(a(150),a(345)),R=a(519),T=a(45),I=a(93),P=a(94),E=a(343),B=s(E),L=a(1),j=c["default"].createFactory(I.ToastMessage.animation),F=l(f.FormattedMessage,{id:"duration_time_should_be_greaterthan_current_time"}),Y=l(f.FormattedMessage,{id:"Please_select_the_valid_starttime"}),H=l(f.FormattedMessage,{id:"Please_select_the_duration"}),A=l("img",{src:"/images/white-icons/white-join-conference.png"}),W=l("p",{},void 0,l(f.FormattedMessage,{id:"start"})),U=l("img",{src:"/images/white-icons/white-add-contacts.png"}),V=l("p",{},void 0,l(f.FormattedMessage,{id:"invite"})),K=l("img",{src:"/images/white-icons/white-edit.png"}),q=l("p",{},void 0,l(f.FormattedMessage,{id:"edit"})),$=l("img",{src:"/images/white-icons/white-delete.png"}),J=l("p",{},void 0,l(f.FormattedMessage,{id:"delete"})),z=l("img",{src:"/images/white-icons/white-add-contacts.png"}),G=l("p",{},void 0,l(f.FormattedMessage,{id:"invite"})),X=l("img",{src:"/images/white-icons/white-join-conference.png"}),Z=l("p",{},void 0,l(f.FormattedMessage,{id:"join"})),Q=l("img",{src:"/images/profile-pics/no-schedule.png"}),ee=l("h2",{},void 0,l(f.FormattedMessage,{id:"no_schedules"}),l("p",{},void 0,l(f.FormattedMessage,{id:"create_schedule"}))),te=l(f.FormattedMessage,{id:"room"}),ae=l(f.FormattedMessage,{id:"organizer"}),se=l(f.FormattedMessage,{id:"room"}),ie=l(f.FormattedMessage,{id:"organizer"}),oe=l(f.FormattedMessage,{id:"room"}),ne=l(f.FormattedMessage,{id:"organizer"}),re=l("p",{},void 0,l(f.FormattedMessage,{id:"set_start_time"})),le=l("p",{},void 0,l(f.FormattedMessage,{id:"set_hours"})),de=l("p",{},void 0,l(f.FormattedMessage,{id:"set_minutes"})),ue=l(f.FormattedMessage,{id:"cancel"}),ce=l(f.FormattedMessage,{id:"save"}),he=l(f.FormattedMessage,{id:"edit_current_day_recurring"}),fe=l(b.Modal.Body,{},void 0,l(f.FormattedMessage,{id:"want_to_edit_current_day_or_recurring_schedule"})),pe=l(f.FormattedMessage,{id:"current"}),me=l(f.FormattedMessage,{id:"recurring"}),ve=l(f.FormattedMessage,{id:"delete_current_day_recurring"}),ge=l(b.Modal.Body,{},void 0,l(f.FormattedMessage,{id:"want_to_delete_current_day_or_recurring_schedule"})),ye=l(f.FormattedMessage,{id:"current"}),be=l(f.FormattedMessage,{id:"recurring"}),De=l("h2",{},void 0,l(f.FormattedMessage,{id:"my_classes"})),_e=l("h2",{},void 0,l(f.FormattedMessage,{id:"create_a_class"})),Se=l("h2",{},void 0,l(f.FormattedMessage,{id:"calendar"})),ke=l(f.FormattedMessage,{id:"your_selected_date"}),Ne=l(f.FormattedMessage,{id:"have_class"}),we=l(f.FormattedMessage,{id:"have_schedule"}),Ce=l(f.FormattedMessage,{id:"past_classes"}),Me=l(m["default"],{name:"calendar-check-o"}),xe=l("span",{className:"hidden-xs hidden-sm"},void 0,l(f.FormattedMessage,{id:"schedules"})),Oe=l("span",{className:"hidden-md hidden-lg sm-h2"},void 0,"Schedules"),Re=l(m["default"],{name:"history"}),Te=l(f.FormattedMessage,{id:"past_classes"}),Ie=l(f.FormattedMessage,{id:"past_schedules"}),Pe=l("span",{className:"hidden-md hidden-lg sm-h2"},void 0,"History"),Ee=t.Schedule=function(e){function t(e){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.reloadScheedule=function(){a.setState({active:!0,refresh:!0});var e={startDate:Number(L(a.state.selectedDate).startOf("day").utc().format("x")),endDate:Number(L(a.state.selectedDate).endOf("day").utc().format("x"))};a.props.dispatch((0,T.getScheduleDates)()),a.props.dispatch((0,T.getMyDateSchedules)(e)).then(function(e){return a.setState({refresh:!1})})},a.handleUpdate=function(){var e=""!=a.state.hours?60*a.state.hours:0,t=""!=a.state.minutes?a.state.minutes:0,s=Number(e)+Number(t);if(s>0)if(""!=a.state.startTime&&L(a.state.startTime,"x").isValid()){var i=L(a.state.startTime,"x");i.add(s,"minutes");var o={_id:a.state.slotId,startTime:Number(L(a.state.startTime,"x").utc().format("x")),endTime:Number(i.utc().format("x"))},n=Number(L().utc().format("x"));o.endTime>n?(a.setState({error:""}),a.props.dispatch((0,T.updateSlotSchedule)(o,a.state.data._id)).then(function(e){return a.setUpdateResponse(e)})):a.setState({error:F})}else a.setState({error:Y});else a.setState({error:H})},a.handleCancle=function(){a.setState({error:""}),a.showOrHideEditScheduler()},a.handleStart=function(e){var t=e.currentTarget.id.substr(15);a.props.startConference(t)},a.closeEdit=function(){a.setState({editshow:!1,slotId:null,recordId:null})},a.editCurrentDay=function(){var e=a.state.recordId,t=a.state.slotId;a.props.dispatch((0,T.getSchedule)(e)).then(function(e){return a.setSchResponse(e,t)}),a.setState({editshow:!1,slotId:null,recordId:null})},a.editRecurring=function(){var e=a.state.recordId;a.props.dispatch((0,T.getSchedule)(e)).then(function(e){return a.setSchResponse(e,null)}),a.setState({editshow:!1,slotId:null,recordId:null})},a.closeDelete=function(){a.setState({deleteshow:!1,slotId:null,recordId:null})},a.deleteCurrentDay=function(){var e=a.state.recordId,t=a.state.slotId;a.props.dispatch((0,T.deleteMySchedule)(e,t)).then(function(e){return a.setDelResponse(e)}),a.setState({deleteshow:!1,slotId:null,recordId:null})},a.deleteRecurring=function(){var e={recordId:a.state.recordId,currentDate:L(a.state.selectedDate).startOf("day").utc().format("x")};a.props.dispatch((0,T.deleteMyReucrringSchedule)(e)).then(function(e){return a.setDelResponse(e)}),a.setState({deleteshow:!1,slotId:null,recordId:null})},a.showOrHideEditScheduler=function(){a.state.showEditSlot?a.setState({data:null,showEditSlot:!1,slotId:null,scheduleId:null,startTime:"",hours:0,minutes:0}):a.setState({showEditSlot:!0})},a.handleStartTimeChange=function(e){if(L(e,"x").isValid()){var t=L(e,"x"),s=L(a.state.startTime,"x");s.hours(t.hours()).minutes(t.minutes()).seconds(0),a.setState({startTime:s.format("x")})}},a.handleHours=function(e){a.setState({hours:e.target.value})},a.handleMinutes=function(e){a.setState({minutes:e.target.value})},a.state={selectedDate:L().utc().toDate(),upcoming:[],past:[],active:!0,showInviteBox:!1,roomId:null,scheduleId:null,editshow:!1,deleteshow:!1,recordId:null,slotId:null,refresh:!1,roomKey:"No Link",showScheduler:!1,data:null,startTime:"",hours:0,minutes:0,error:"",errorStatus:!1,showEditSlot:!1},a}return n(t,e),d(t,[{key:"componentDidMount",value:function(){this.reloadScheedule()}},{key:"handleSelect",value:function(e,t){var a=this,s=e.utc().toDate();this.props.dispatch((0,T.setDashboard)({selectedDate:s})),this.setState({selectedDate:s,active:!0,refresh:!0});var i={startDate:Number(L(s).startOf("day").utc().format("x")),endDate:Number(L(s).endOf("day").utc().format("x"))};this.props.dispatch((0,T.getMyDateSchedules)(i)).then(function(e){return a.setState({refresh:!1})})}},{key:"upcomingEvent",value:function(){this.setState({active:!0});var e={startDate:Number(L(this.state.selectedDate).startOf("day").utc().format("x")),endDate:Number(L(this.state.selectedDate).endOf("day").utc().format("x"))};this.props.dispatch((0,T.getMyDateSchedules)(e))}},{key:"pastEvent",value:function(){this.setState({active:!1});var e={currentDate:Number(L(this.state.selectedDate).startOf("day").utc().format("x"))};this.props.dispatch((0,T.getMyPastSchedules)(e))}},{key:"createSchedule",value:function(e,t){var a=this;null==t?this.props.dispatch((0,T.setSchedule)(e)).then(function(e){a.setResponse(e)}):this.props.dispatch((0,T.updateSchedule)(e,t)).then(function(e){a.setResponse(e)})}},{key:"setResponse",value:function(e){var t=this;if(e.status)this.refs.schedulecontainer.success(e.message+" ",""),this.showOrHideScheduler(),this.props.dispatch((0,T.getScheduleDates)()).then(function(e){return t.setState({errorStatus:!1})});else if(e.error)if(this.setState({errorStatus:!0}),e.error.errors){var a=[];_.forIn(e.error.errors,function(e,t){a.push(e.message)}),this.refs.schedulecontainer.error(a+" ","")}else this.refs.schedulecontainer.error(e.error+" ","")}},{key:"deleteEvent",value:function(e,t,a){var s=a.currentTarget.id.substr(16),i=this.props,o=this;alertify.confirm(this.props.intlData.messages.warning,i.role==P.Roles.Instructor||i.role==P.Roles.Lmsadmin?i.intlData.messages.delete_class_alert:i.intlData.messages.delete_schedule_alert,function(a){a&&(t?o.setState({deleteshow:!0,recordId:s,slotId:e}):i.dispatch((0,T.deleteMySchedule)(s,e)).then(function(e){return o.setDelResponse(e)}))},function(){}).setting("labels",{ok:this.props.intlData.messages.ok,cancel:this.props.intlData.messages.cancel})}},{key:"setDelResponse",value:function(e){if(e.status){this.refs.schedulecontainer.success(e.message+" ","");var t={startDate:L(this.state.selectedDate).startOf("day").utc().format("x"),endDate:L(this.state.selectedDate).endOf("day").utc().format("x")};this.props.dispatch((0,T.getMyDateSchedules)(t)),this.props.dispatch((0,T.getScheduleDates)())}else e.error&&this.refs.schedulecontainer.error(e.error+" ","")}},{key:"editEvent",value:function(e,t,a){var s=a.currentTarget.id.substr(14),i=this.props,o=this;alertify.confirm(i.intlData.messages.warning,i.role==P.Roles.Instructor||i.role==P.Roles.Lmsadmin?i.intlData.messages.edit_class_alert:i.intlData.messages.edit_schedule_alert,function(a){a&&(t?o.setState({editshow:!0,recordId:s,slotId:e}):i.dispatch((0,T.getSchedule)(s)).then(function(e){return o.setSchResponse(e,null)}))},function(){}).setting("labels",{ok:this.props.intlData.messages.ok,cancel:this.props.intlData.messages.cancel})}},{key:"setSchResponse",value:function(e,t){if(e.status)if(this.setState({data:e.data,slotId:t}),null!=t){var a=e.data.dates,s=_.findIndex(a,function(e){return e._id==t});if(s>-1){var i=L(a[s].startTime,"x"),o=L(a[s].endTime,"x"),n=L.duration(o.diff(i)),r=n.asMinutes(),l=Math.floor(r/60),d=r-60*l;this.setState({startTime:i.format("x"),hours:l,minutes:d}),this.showOrHideEditScheduler()}}else this.showOrHideScheduler();else e.error&&(this.setState({errorStatus:!0}),this.refs.schedulecontainer.error(e.error+" ",""))}},{key:"setUpdateResponse",value:function(e){if(e.status){this.refs.schedulecontainer.success(e.message+" ","");var t={startDate:L(this.state.selectedDate).startOf("day").utc().format("x"),endDate:L(this.state.selectedDate).endOf("day").utc().format("x")};this.props.dispatch((0,T.getMyDateSchedules)(t)),this.showOrHideEditScheduler(),this.setState({error:""})}else this.refs.schedulecontainer.error(""+e.error,"")}},{key:"inviteEvent",value:function(e,t,a,s){var i={roomid:t,scheduleid:s.currentTarget.id.substr(16),slotId:a,roomkey:e,date:this.state.selectedDate};this.props.invite(i)}},{key:"showResponse",value:function(e){e.status?this.refs.schedulecontainer.success(e.message,""):e.error&&this.refs.schedulecontainer.error(e.error,"")}},{key:"scheduleOptions",value:function(e,t,a){var s=k["default"].iconCircle+" "+k["default"].bgStart,i=Number(L().utc().format("x")),o=t.dates.startTime,n=t.dates.endTime,r=!(!t.pattern||""==t.pattern);return e==t.createdBy._id&&o<=i&&i<=n?l("ul",{
className:"clearfix"},void 0,this.props.getConnection?null:l("li",{},void 0,l(h.Link,{onClick:this.handleStart,id:t.roomId&&t.roomId.roomKey?"start_schedule_"+t.roomId.roomKey:"start_schedule_#",title:a==P.Roles.Student?this.props.intlData.messages.join_class:a==P.Roles.Instructor||a==P.Roles.Lmsadmin?this.props.intlData.messages.start_class:this.props.intlData.messages.start_conference},void 0,l("div",{className:s},void 0,A),W)),l("li",{className:k["default"].inviteContacts},void 0,l(h.Link,{onClick:this.inviteEvent.bind(this,t.roomId.roomKey,t.roomId._id,t.dates._id),id:"invite_schedule_"+t._id,title:this.props.intlData.messages.invite_contacts},void 0,l("div",{className:k["default"].iconCircle},void 0,U),V))):e==t.createdBy._id&&i<o?l("ul",{className:"clearfix"},void 0,l("li",{className:k["default"].editSchedule},void 0,l(h.Link,{title:this.props.intlData.messages.edit_schedule,id:"edit_schedule_"+t._id,onClick:this.editEvent.bind(this,t.dates._id,r)},void 0,l("div",{className:k["default"].iconCircle},void 0,K),q)),l("li",{className:k["default"].deleteSchedule},void 0,l(h.Link,{title:this.props.intlData.messages.delete_schedule,id:"delete_schedule_"+t._id,onClick:this.deleteEvent.bind(this,t.dates._id,r)},void 0,l("div",{className:k["default"].iconCircle},void 0,$),J)),l("li",{className:k["default"].inviteContacts},void 0,l(h.Link,{onClick:this.inviteEvent.bind(this,t.roomId.roomKey,t.roomId._id,t.dates._id),id:"invite_schedule_"+t._id,title:this.props.intlData.messages.invite_contacts},void 0,l("div",{className:k["default"].iconCircle},void 0,z),G))):o<=i&&i<=n&&!this.props.getConnection?l("ul",{className:"clearfix"},void 0,l("li",{style:a==P.Roles.Student?{width:"100%"}:{}},void 0,l(h.Link,{onClick:this.handleStart,id:t.roomId&&t.roomId.roomKey?"start_schedule_"+t.roomId.roomKey:"start_schedule_#",title:a==P.Roles.Student?this.props.intlData.messages.join_class:a==P.Roles.Instructor||a==P.Roles.Lmsadmin?this.props.intlData.messages.start_class:this.props.intlData.messages.start_conference},void 0,l("div",{className:s},void 0,X),Z))):void 0}},{key:"handleEvent",value:function(){console.log("handleEvent trigger")}},{key:"viewUser",value:function(e){h.browserHistory.push("/profile/"+e)}},{key:"updateRooms",value:function(e){e&&this.props.updateRoomsWithNewKey(e)}},{key:"showOrHideScheduler",value:function(){if(this.state.showScheduler)this.setState({showScheduler:!1,data:null,errorStatus:!1}),this.props.dispatch((0,T.clearSchedule)());else{var e=L().startOf("day").utc().toDate();this.state.selectedDate<e?this.refs.schedulecontainer.error("Selected date should be greater than or equal to current date"):this.setState({showScheduler:!0})}}},{key:"render",value:function(){var e=this;if(this.props.role)var t=this.props.role;var a=(k["default"].iconCircle+" "+k["default"].bgStart,w["default"].modNoContacts+" "+w["default"].scheduFullBlock),s=w["default"].scheduImgBlock+" "+w["default"].noContactsCircle+" "+w["default"].topMrgZero,i=w["default"].calendarInlineBlock+" clearfix",o=[0,5,10,15,20,25,30,35,40,45,50,55],n=[0,1,2,3,4,5,6,7,8,9,10,11],r={available:{color:null},enquire:{color:"#00af50"},past:{color:"#c4c6cb"}},d=l("li",{},void 0,l(b.Row,{},void 0,l(b.Col,{md:12},void 0,l("div",{className:a},void 0,l("div",{className:s},void 0,Q),ee)))),u="",f="",p=[];if(this.state.active?u=k["default"].current:f=k["default"].current,this.props.dashboardData.upcoming){var m=this.props.userId,v=this.props.dashboardData.upcoming;v.length>0&&(d=v.map(function(a){return a.dates.endTime>=Number(L().utc().format("x"))?(p.push(l("li",{},a.dates._id,l(b.Row,{},void 0,l("div",{className:t==P.Roles.Student?"col-xs-9":"col-md-6"},void 0,l("div",{className:k["default"].modMeetingDetails},void 0,l("h2",{className:k["default"].meetingTitle},void 0,a.meetingName),l("div",{className:k["default"].organizerDetials},void 0,l("img",{id:"viewprofile",src:a.createdBy&&a.createdBy.profile&&void 0!=a.createdBy.profile.profileImage&&""!=a.createdBy.profile.profileImage&&null!=a.createdBy.profile.profileImage?"/uploads/"+a.createdBy.profile.profileImage:"/images/profile-pics/defaultStudent.jpg",onClick:e.viewUser.bind(e,a.createdBy._id),title:e.props.intlData.messages.viewprofile}),l("p",{},void 0," ",L(a.dates.startTime,"x").format("ddd"),", ",L(a.dates.startTime,"x").format("YYYY-DD-MM"),", ",L(a.dates.startTime,"x").format("hh:mm"),l("span",{className:k["default"].adjustTime},void 0,L(a.dates.startTime,"x").format("A"))," - ",L(a.dates.endTime,"x").format("hh:mm"),l("span",{className:k["default"].adjustTime},void 0,L(a.dates.endTime,"x").format("A"))),l("p",{},void 0,te," : ",a.roomId.roomName),l("p",{},void 0,ae," : ",a.createdBy.firstname)))),l("div",{className:t==P.Roles.Student?"col-xs-3":"col-md-6"},void 0,l("div",{className:k["default"].modScheduleControls},void 0,e.scheduleOptions(m,a,t)))))),null):l("li",{},a.dates._id,l(b.Row,{},void 0,l("div",{className:t==P.Roles.Student?"col-xs-9":"col-md-6"},void 0,l("div",{className:k["default"].modMeetingDetails},void 0,l("h2",{className:k["default"].meetingTitle},void 0,a.meetingName),l("div",{className:k["default"].organizerDetials},void 0,l("img",{id:"viewprofile",src:a.createdBy&&a.createdBy.profile&&void 0!=a.createdBy.profile.profileImage&&""!=a.createdBy.profile.profileImage&&null!=a.createdBy.profile.profileImage?"/uploads/"+a.createdBy.profile.profileImage:"/images/profile-pics/defaultStudent.jpg",onClick:e.viewUser.bind(e,a.createdBy._id),title:e.props.intlData.messages.viewprofile}),l("p",{},void 0," ",L(a.dates.startTime,"x").format("ddd"),", ",L(a.dates.startTime,"x").format("YYYY-DD-MM"),", ",L(a.dates.startTime,"x").format("hh:mm"),l("span",{className:k["default"].adjustTime},void 0,L(a.dates.startTime,"x").format("A"))," - ",L(a.dates.endTime,"x").format("hh:mm"),l("span",{className:k["default"].adjustTime},void 0,L(a.dates.endTime,"x").format("A"))),l("p",{},void 0,se," : ",a.roomId.roomName),l("p",{},void 0,ie," : ",a.createdBy.firstname)))),l("div",{className:t==P.Roles.Student?"col-xs-3":"col-md-6"},void 0,l("div",{className:k["default"].modScheduleControls},void 0,e.scheduleOptions(m,a,t)))))}))}if(this.props.dashboardData.past){var y=this.props.dashboardData.past;y.length>0&&(d=y.map(function(t){return l("li",{},t.dates._id,l(b.Row,{},void 0,l(b.Col,{md:6},void 0,l("div",{className:k["default"].modMeetingDetails},void 0,l("h2",{className:k["default"].meetingTitle},void 0,t.meetingName),l("div",{className:k["default"].organizerDetials},void 0,l("img",{id:"viewprofile",src:t.createdBy&&t.createdBy.profile&&t.createdBy.profile.profileImage?"/uploads/"+t.createdBy.profile.profileImage:"/images/profile-pics/defaultStudent.jpg",onClick:e.viewUser.bind(e,t.createdBy._id),title:e.props.intlData.messages.viewprofile}),l("p",{},void 0," ",L(t.dates.startTime,"x").format("ddd"),", ",L(t.dates.startTime,"x").format("YYYY-DD-MM"),", ",L(t.dates.startTime,"x").format("hh:mm"),l("span",{className:k["default"].adjustTime},void 0,L(t.dates.startTime,"x").format("A"))," - ",L(t.dates.endTime,"x").format("hh:mm"),l("span",{className:k["default"].adjustTime},void 0,L(t.dates.endTime,"x").format("A"))),l("p",{},void 0,oe," : ",t.roomId.roomName),l("p",{},void 0,ne," : ",t.createdBy.firstname))))))}))}return l("div",{className:k["default"].tableBox},void 0,c["default"].createElement(I.ToastContainer,{toastMessageFactory:j,ref:"schedulecontainer",className:"toast-bottom-right"}),l(x["default"],{showModal:this.state.showScheduler,calenderDate:this.state.selectedDate,hidecallback:this.showOrHideScheduler.bind(this),saveSchedule:this.createSchedule.bind(this),scheduleData:this.state.data,errorStatus:this.state.errorStatus,role:this.props.role,selectedDate:this.props.dashboardData.selectedDate}),l(b.Modal,{show:this.state.showEditSlot,onHide:this.showOrHideEditScheduler},void 0,l(D.Header,{closeButton:!0},void 0,l(D.Title,{className:k["default"].popHeadingAll},void 0,this.props.intlData.create_edit_class)),l(D.Body,{},void 0,l("div",{className:w["default"].meetingDetails},void 0,l("div",{className:w["default"].meetingInfoBlock},void 0,l("form",{},void 0,l("div",{className:i},void 0,l("ul",{className:"clearfix"},void 0,l("li",{style:{width:"40%"}},void 0,re,l("div",{id:"startTime",className:w["default"].dateTimePickerBlock},void 0,l(B["default"],{mode:"time",id:"startTime",onChange:this.handleStartTimeChange,dateTime:this.state.startTime}))),l("li",{style:{width:"30%"}},void 0,le,l("div",{className:w["default"].dateTimePickerBlock},void 0,l("select",{id:"setHours",className:"form-control",onChange:this.handleHours,defaultValue:this.state.hours},void 0,n.map(function(e){return l("option",{value:e},e,e," hrs")})))),l("li",{style:{width:"30%"}},void 0,de,l("div",{className:w["default"].dateTimePickerBlock},void 0,l("select",{id:"setMinites",className:"form-control",onChange:this.handleMinutes,defaultValue:this.state.minutes},void 0,o.map(function(e){return l("option",{value:e},e,e," mins")})))))))))),l(D.Footer,{},void 0,l("div",{className:k["default"].errorSetDuration},void 0,l("label",{},void 0,this.state.error)),l("div",{className:k["default"].blockSaveAssign},void 0,l("button",{id:"cancel",onClick:this.handleCancle},void 0,ue),l("button",{id:"save",className:k["default"].btnSaveAssign,onClick:this.handleUpdate},void 0,ce)))),l(b.Modal,{show:this.state.editshow,onHide:this.closeEdit,container:this,"aria-labelledby":"contained-modal-title"},void 0,l(b.Modal.Header,{closeButton:!0},void 0,l(b.Modal.Title,{id:"contained-modal-title",className:k["default"].popHeadingAll},void 0,he)),fe,l(b.Modal.Footer,{},void 0,l(b.Button,{id:"current",className:k["default"].btnApplyAll,onClick:this.editCurrentDay},void 0,pe),l(b.Button,{id:"recurring",className:k["default"].btnApplyAll,onClick:this.editRecurring},void 0,me))),l(b.Modal,{show:this.state.deleteshow,onHide:this.closeDelete,container:this,"aria-labelledby":"contained-modal-title"},void 0,l(b.Modal.Header,{closeButton:!0},void 0,l(b.Modal.Title,{id:"contained-modal-title",className:k["default"].popHeadingAll},void 0,ve)),ge,l(b.Modal.Footer,{},void 0,l(b.Button,{id:"current",className:k["default"].btnApplyAll,onClick:this.deleteCurrentDay},void 0,ye),l(b.Button,{id:"recurring",className:k["default"].btnApplyAll,onClick:this.deleteRecurring},void 0,be))),l("div",{className:k["default"].modCardHeader},void 0,t==P.Roles.Student?De:t==P.Roles.Instructor||t==P.Roles.Lmsadmin?_e:Se,l("div",{className:k["default"].modRoomControls},void 0,l("ul",{},void 0,l("li",{className:"hidden-xs"},void 0,l(h.Link,{id:"reloadScheedule",onClick:this.reloadScheedule},void 0,l("img",{src:"/images/black-icons/black-regenerate.png",className:1==this.state.refresh?k["default"].spinAnimation:null,title:this.props.intlData.messages.refresh_schedules}))),t==P.Roles.Admin||t==P.Roles.Moderator||t==P.Roles.User?l("div",{id:"scheduleMeeting",className:k["default"].headerActionBtn,title:this.props.intlData.messages.schedule_meeting,onClick:this.showOrHideScheduler.bind(this)},void 0,l("span",{},void 0,this.props.intlData.messages.schedule_meeting)):t!=P.Roles.Student?l("li",{},void 0,l(h.Link,{id:"showOrHideScheduler",onClick:this.showOrHideScheduler.bind(this)},void 0,l("img",{src:"/images/icons/green-schedule.png",title:t==P.Roles.Instructor||t==P.Roles.Lmsadmin?this.props.intlData.messages.create_a_class:this.props.intlData.messages.schedule_meeting}))):null))),l("div",{className:k["default"].modCardCalendarClock},void 0,l("div",{id:"scheduleDate",className:k["default"].calendarBox},void 0,l(g["default"],{firstOfWeek:1,numberOfCalendars:1,selectionType:"single",stateDefinitions:r,dateStates:this.props.dashboardData.scheduledDates,defaultState:"available",locale:L().locale(),value:L(this.state.selectedDate),onSelect:this.handleSelect.bind(this),onEvent:this.handleEvent.bind(this)}),l("ul",{className:k["default"].datePicLegend},void 0,l("li",{},void 0,l("span",{className:k["default"].selected}),l("span",{className:k["default"].txtDisplay},void 0,ke)),l("li",{},void 0,l("span",{className:k["default"].scheduled}),l("span",{className:k["default"].txtDisplay},void 0,t==P.Roles.Student||t==P.Roles.Instructor||t==P.Roles.Lmsadmin?Ne:we)),l("li",{},void 0,l("span",{className:k["default"].pastschedule}),l("span",{className:k["default"].txtDisplay},void 0,Ce))))),l("div",{className:k["default"].modCardNav},void 0,l("ul",{className:"clearfix"},void 0,l("li",{className:u,id:"mySchedules"},void 0,l("a",{id:"upcomingEvent",onClick:this.upcomingEvent.bind(this)},void 0,Me," ",xe,"  (",L(this.state.selectedDate).format("YYYY-DD-MM"),")",Oe)),l("li",{id:"pastSchedules",className:f},void 0,l("a",{id:"pastEvent",onClick:this.pastEvent.bind(this)},void 0,Re," ",l("span",{className:"hidden-xs hidden-sm"},void 0,t==P.Roles.Student||t==P.Roles.Instructor||t==P.Roles.Lmsadmin?Te:Ie),Pe)))),l("div",{className:k["default"].modCardBody},void 0,l("div",{className:k["default"].modCardChild},void 0,l("div",{className:k["default"].modScheduleListBlock},void 0,l("ul",{},void 0,p,d)))))}}]),t}(u.Component);Ee.contextTypes={router:c["default"].PropTypes.object},t["default"]=(0,y.connect)(r)(Ee)},1623:function(e,t,a){"use strict";function s(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function i(e,t){var a,i,r,l,d,u,c=!1;t||(t={}),a=t.debug||!1;try{r=o(),l=document.createRange(),d=document.getSelection(),u=document.createElement("span"),u.textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",document.body.appendChild(u),l.selectNode(u),d.addRange(l);var h=document.execCommand("copy");if(!h)throw new Error("copy command was unsuccessful");c=!0}catch(f){a&&console.error("unable to copy using execCommand: ",f),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e),c=!0}catch(f){a&&console.error("unable to copy using clipboardData: ",f),a&&console.error("falling back to prompt"),i=s("message"in t?t.message:n),window.prompt(i,e)}}finally{d&&("function"==typeof d.removeRange?d.removeRange(l):d.removeAllRanges()),u&&document.body.removeChild(u),r()}return c}var o=a(1648),n="Copy to clipboard: #{key}, Enter";e.exports=i},1624:function(e,t,a){"use strict";var s=a(0),i=a(568);if("undefined"==typeof s)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new s.Component).updater;e.exports=i(s.Component,s.isValidElement,o)},1628:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var a={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s]);return a}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},n=a(0),r=s(n),l=a(1624),d=s(l),u=a(8),c=s(u),h=a(1623),f=s(h);t.CopyToClipboard=(0,d["default"])({propTypes:{text:c["default"].string.isRequired,children:c["default"].element.isRequired,onCopy:c["default"].func,options:c["default"].shape({debug:c["default"].bool,message:c["default"].string})},onClick:function(e){var t=this.props,a=t.text,s=t.onCopy,i=t.children,o=t.options,n=r["default"].Children.only(i),l=(0,f["default"])(a,o);s&&s(a,l),n&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(e)},render:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),a=i(e,["text","onCopy","options","children"]),s=r["default"].Children.only(t);return r["default"].cloneElement(s,o({},a,{onClick:this.onClick}))}})},1629:function(e,t,a){"use strict";var s=a(1628),i=s.CopyToClipboard;e.exports=i},1630:function(e,t,a){function s(e){return e&&e.__esModule?e:{"default":e}}function i(){}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),n=s(o),r=a(1),l=s(r);a(1440);var d=a(156),u=s(d),c=a(1529),h=s(c),f=a(1416),p=s(f),m=a(1509),v=s(m),g=a(1631),y=s(g),b=a(1636),D=s(b),_=a(1633),S=s(_),k=a(1632),N=s(k),w=a(1453),C=s(w),M=a(1508),x=s(M),O=(0,l["default"])(new Date((-432e13))).startOf("day"),R=(0,l["default"])(new Date(432e13)).startOf("day"),T=n["default"].createClass({displayName:"DateRangePicker",mixins:[p["default"],x["default"]],propTypes:{bemBlock:n["default"].PropTypes.string,bemNamespace:n["default"].PropTypes.string,dateStates:n["default"].PropTypes.array,defaultState:n["default"].PropTypes.string,disableNavigation:n["default"].PropTypes.bool,firstOfWeek:n["default"].PropTypes.oneOf([0,1,2,3,4,5,6]),helpMessage:n["default"].PropTypes.string,initialDate:n["default"].PropTypes.instanceOf(Date),initialFromValue:n["default"].PropTypes.bool,initialMonth:n["default"].PropTypes.number,initialRange:n["default"].PropTypes.object,initialYear:n["default"].PropTypes.number,maximumDate:n["default"].PropTypes.instanceOf(Date),minimumDate:n["default"].PropTypes.instanceOf(Date),numberOfCalendars:n["default"].PropTypes.number,onHighlightDate:n["default"].PropTypes.func,onHighlightRange:n["default"].PropTypes.func,onSelect:n["default"].PropTypes.func,onSelectStart:n["default"].PropTypes.func,paginationArrowComponent:n["default"].PropTypes.func,selectedLabel:n["default"].PropTypes.string,selectionType:n["default"].PropTypes.oneOf(["single","range"]),singleDateRange:n["default"].PropTypes.bool,showLegend:n["default"].PropTypes.bool,stateDefinitions:n["default"].PropTypes.object,value:v["default"].momentOrMomentRange},getDefaultProps:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate());return{bemNamespace:null,bemBlock:"DateRangePicker",numberOfCalendars:1,firstOfWeek:0,disableNavigation:!1,nextLabel:"",previousLabel:"",initialDate:t,initialFromValue:!0,selectionType:"range",singleDateRange:!1,stateDefinitions:{__default:{color:null,selectable:!0,label:null}},selectedLabel:"Your selected dates",defaultState:"__default",dateStates:[],showLegend:!1,onSelect:i,paginationArrowComponent:N["default"]}},componentWillReceiveProps:function(e){var t=this.getDateStates(e),a=this.getEnabledRange(e);this.setState({dateStates:this.state.dateStates&&u["default"].is(this.state.dateStates,t)?this.state.dateStates:t,enabledRange:this.state.enabledRange&&this.state.enabledRange.isSame(a)?this.state.enabledRange:a})},getInitialState:function(){var e=new Date,t=this.props,a=t.initialYear,s=t.initialMonth,i=t.initialFromValue,o=t.selectionType,n=t.value,r=e.getFullYear(),l=e.getMonth();return a&&s&&(r=a,l=s),i&&n&&("single"===o?(r=n.year(),l=n.month()):(r=n.start.year(),l=n.start.month())),{year:r,month:l,selectedStartDate:null,highlightStartDate:null,highlightedDate:null,highlightRange:null,hideSelection:!1,enabledRange:this.getEnabledRange(this.props),dateStates:this.getDateStates(this.props)}},getEnabledRange:function(e){var t=e.minimumDate?(0,l["default"])(e.minimumDate).startOf("day"):O,a=e.maximumDate?(0,l["default"])(e.maximumDate).startOf("day"):R;return l["default"].range(t,a)},getDateStates:function(e){var t=e.dateStates,a=e.defaultState,s=e.stateDefinitions,i=[],o=O,n=R,r=(0,l["default"])(o).startOf("day"),d=u["default"].fromJS(s);return t.forEach(function(e){var t=e.range,s=t.start.startOf("day"),o=t.end.startOf("day");r.isSame(s,"day")||i.push({state:a,range:l["default"].range(r,s)}),i.push(e),r=o}),i.push({state:a,range:l["default"].range(r,n)}),u["default"].List(i).map(function(e){var t=d.get(e.state);return u["default"].Map({range:e.range,state:e.state,selectable:t.get("selectable",!0),color:t.get("color")})})},isDateDisabled:function(e){return!this.state.enabledRange.contains(e)},isDateSelectable:function(e){return this.dateRangesForDate(e).some(function(e){return e.get("selectable")})},nonSelectableStateRanges:function(){return this.state.dateStates.filter(function(e){return!e.get("selectable")})},dateRangesForDate:function(e){return this.state.dateStates.filter(function(t){return t.get("range").contains(e)})},sanitizeRange:function(e,t){var a=this.nonSelectableStateRanges().map(function(e){return e.get("range")}),s=void 0;if(t){if(s=a.find(function(t){return e.intersect(t)}))return l["default"].range(e.start,s.start)}else if(s=a.findLast(function(t){return e.intersect(t)}))return l["default"].range(s.end,e.end);return e.start.isBefore(this.state.enabledRange.start)?l["default"].range(this.state.enabledRange.start,e.end):e.end.isAfter(this.state.enabledRange.end)?l["default"].range(e.start,this.state.enabledRange.end):e},highlightRange:function(e){this.setState({highlightedRange:e,highlightedDate:null}),"function"==typeof this.props.onHighlightRange&&this.props.onHighlightRange(e,this.statesForRange(e))},onUnHighlightDate:function(){this.setState({highlightedDate:null})},onSelectDate:function(e){var t=this.props.selectionType,a=this.state.selectedStartDate;"range"===t?a?this.completeRangeSelection():!this.isDateDisabled(e)&&this.isDateSelectable(e)&&(this.startRangeSelection(e),this.props.singleDateRange&&this.highlightRange(l["default"].range(e,e))):!this.isDateDisabled(e)&&this.isDateSelectable(e)&&this.completeSelection()},onHighlightDate:function(e){var t=this.props.selectionType,a=this.state.selectedStartDate,s=void 0,i=void 0,o=void 0;"range"===t&&a?(s=u["default"].List.of(a,e).sortBy(function(e){return e.unix()}),i=l["default"].range(s.get(0),s.get(1)),o=i.start.unix()===a.unix(),i=this.sanitizeRange(i,o),this.highlightRange(i)):!this.isDateDisabled(e)&&this.isDateSelectable(e)&&this.highlightDate(e)},startRangeSelection:function(e){this.setState({hideSelection:!0,selectedStartDate:e}),"function"==typeof this.props.onSelectStart&&this.props.onSelectStart((0,l["default"])(e))},statesForDate:function(e){return this.state.dateStates.filter(function(t){return e.within(t.get("range"))}).map(function(e){return e.get("state")})},statesForRange:function(e){return e.start.isSame(e.end,"day")?this.statesForDate(e.start):this.state.dateStates.filter(function(t){return t.get("range").intersect(e)}).map(function(e){return e.get("state")})},completeSelection:function(){var e=this.state.highlightedDate;e&&(this.setState({hideSelection:!1,highlightedDate:null}),this.props.onSelect(e,this.statesForDate(e)))},completeRangeSelection:function(){var e=this.state.highlightedRange;!e||e.start.isSame(e.end,"day")&&!this.props.singleDateRange||(this.setState({selectedStartDate:null,highlightedRange:null,highlightedDate:null,hideSelection:!1}),this.props.onSelect(e,this.statesForRange(e)))},highlightDate:function(e){this.setState({highlightedDate:e}),"function"==typeof this.props.onHighlightDate&&this.props.onHighlightDate(e,this.statesForDate(e))},getMonthDate:function(){return(0,l["default"])(new Date(this.state.year,this.state.month,1))},canMoveBack:function(){return!this.getMonthDate().subtract(1,"days").isBefore(this.state.enabledRange.start)},moveBack:function(){var e=void 0;this.canMoveBack()&&(e=this.getMonthDate(),e.subtract(1,"months"),this.setState({year:e.year(),month:e.month()}))},canMoveForward:function(){return!this.getMonthDate().add(this.props.numberOfCalendars,"months").isAfter(this.state.enabledRange.end)},moveForward:function(){var e=void 0;this.canMoveForward()&&(e=this.getMonthDate(),e.add(1,"months"),this.setState({year:e.year(),month:e.month()}))},changeYear:function(e){var t=this.state,a=t.enabledRange,s=t.month;(0,l["default"])({years:e,months:s,date:1}).unix()<a.start.unix()&&(s=a.start.month()),(0,l["default"])({years:e,months:s+1,date:1}).unix()>a.end.unix()&&(s=a.end.month()),this.setState({year:e,month:s})},changeMonth:function(e){this.setState({month:e})},renderCalendar:function(e){var t=this.props,a=t.bemBlock,s=t.bemNamespace,i=t.firstOfWeek,o=t.numberOfCalendars,r=t.selectionType,d=t.value,c=this.state,f=c.dateStates,p=c.enabledRange,m=c.hideSelection,v=c.highlightedDate,g=c.highlightedRange,y=this.getMonthDate(),b=y.year(),_=y.month(),k=e+"-"+b+"-"+_,N=void 0;y.add(e,"months");var w=new h["default"].Calendar(i),M=u["default"].fromJS(w.monthDates(y.year(),y.month())),x=M.first().first(),O=M.last().last(),R=l["default"].range(x,O);return l["default"].isMoment(d)?R.contains(d)||(d=null):(0,C["default"])(d)&&(R.overlaps(d)||(d=null)),l["default"].isMoment(v)&&R.contains(v)||(v=null),(0,C["default"])(g)&&R.overlaps(g)||(g=null),N={bemBlock:a,bemNamespace:s,dateStates:f,enabledRange:p,firstOfWeek:i,hideSelection:m,highlightedDate:v,highlightedRange:g,index:e,key:k,selectionType:r,value:d,maxIndex:o-1,firstOfMonth:y,onMonthChange:this.changeMonth,onYearChange:this.changeYear,onSelectDate:this.onSelectDate,onHighlightDate:this.onHighlightDate,onUnHighlightDate:this.onUnHighlightDate,dateRangesForDate:this.dateRangesForDate,dateComponent:S["default"]},n["default"].createElement(D["default"],N)},render:function(){var e=this.props,t=e.paginationArrowComponent,a=e.numberOfCalendars,s=e.stateDefinitions,i=e.selectedLabel,o=e.showLegend,r=e.helpMessage,l=u["default"].Range(0,a).map(this.renderCalendar);return n["default"].createElement("div",{className:this.cx({element:null})},n["default"].createElement(t,{direction:"previous",onTrigger:this.moveBack,disabled:!this.canMoveBack()}),l.toJS(),n["default"].createElement(t,{direction:"next",onTrigger:this.moveForward,disabled:!this.canMoveForward()}),r?n["default"].createElement("span",{className:this.cx({element:"HelpMessage"})},r):null,o?n["default"].createElement(y["default"],{stateDefinitions:s,selectedLabel:i}):null)}});t["default"]=T,e.exports=t["default"]},1631:function(e,t,a){function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=s(i),n=a(1416),r=s(n),l=a(1508),d=s(l),u=o["default"].createClass({displayName:"Legend",mixins:[r["default"],d["default"]],propTypes:{selectedLabel:o["default"].PropTypes.string.isRequired,stateDefinitions:o["default"].PropTypes.object.isRequired},render:function(){var e=this.props,t=e.selectedLabel,a=e.stateDefinitions,s=[],i=void 0,n=void 0,r=void 0;for(i in a)n=a[i],n.label&&n.color&&(r={backgroundColor:n.color},s.push(o["default"].createElement("li",{className:this.cx({element:"LegendItem"}),key:i},o["default"].createElement("span",{className:this.cx({element:"LegendItemColor"}),style:r}),o["default"].createElement("span",{className:this.cx({element:"LegendItemLabel"})},n.label))));return o["default"].createElement("ul",{className:this.cx()},o["default"].createElement("li",{className:this.cx({element:"LegendItem"})},o["default"].createElement("span",{className:this.cx({element:"LegendItemColor",modifiers:{selection:!0}})}),o["default"].createElement("span",{className:this.cx({element:"LegendItemLabel"})},t)),s)}});t["default"]=u,e.exports=t["default"]},1632:function(e,t,a){function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var a={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s]);return a}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},r=a(0),l=s(r),d=a(1416),u=s(d),c=a(1508),h=s(c),f=l["default"].createClass({displayName:"PaginationArrow",mixins:[u["default"],h["default"]],propTypes:{disabled:l["default"].PropTypes.bool,onTrigger:l["default"].PropTypes.func,direction:l["default"].PropTypes.oneOf(["next","previous"])},getDefaultProps:function(){return{disabled:!1}},render:function(){var e=this.props,t=e.disabled,a=e.direction,s=e.onTrigger,r=i(e,["disabled","direction","onTrigger"]),d=o({},a,!0),u={disabled:t},c={modifiers:d,states:u},h={element:"PaginationArrowIcon",modifiers:d,states:u};return l["default"].createElement("div",n({className:this.cx(c)},r,{onClick:s}),l["default"].createElement("div",{className:this.cx(h)}))}});t["default"]=f,e.exports=t["default"]},1633:function(e,t,a){function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=s(i),n=a(156),r=s(n),l=a(1416),d=s(l),u=a(1509),c=s(u),h=a(1450),f=s(h),p=a(1640),m=s(p),v=a(1634),g=s(v),y=a(1635),b=s(y),D=a(1637),_=s(D),S=o["default"].createClass({displayName:"CalendarDate",mixins:[d["default"],f["default"]],propTypes:{date:c["default"].moment,firstOfMonth:o["default"].PropTypes.object.isRequired,isSelectedDate:o["default"].PropTypes.bool,isSelectedRangeStart:o["default"].PropTypes.bool,isSelectedRangeEnd:o["default"].PropTypes.bool,isInSelectedRange:o["default"].PropTypes.bool,isHighlightedDate:o["default"].PropTypes.bool,isHighlightedRangeStart:o["default"].PropTypes.bool,isHighlightedRangeEnd:o["default"].PropTypes.bool,isInHighlightedRange:o["default"].PropTypes.bool,highlightedDate:o["default"].PropTypes.object,dateStates:o["default"].PropTypes.instanceOf(r["default"].List),isDisabled:o["default"].PropTypes.bool,isToday:o["default"].PropTypes.bool,dateRangesForDate:o["default"].PropTypes.func,onHighlightDate:o["default"].PropTypes.func,onUnHighlightDate:o["default"].PropTypes.func,onSelectDate:o["default"].PropTypes.func},getInitialState:function(){return{mouseDown:!1}},mouseUp:function(){this.props.onSelectDate(this.props.date),this.state.mouseDown&&this.setState({mouseDown:!1}),document.removeEventListener("mouseup",this.mouseUp)},mouseDown:function(){this.setState({mouseDown:!0}),document.addEventListener("mouseup",this.mouseUp)},touchEnd:function(){this.props.onHighlightDate(this.props.date),this.props.onSelectDate(this.props.date),this.state.mouseDown&&this.setState({mouseDown:!1}),document.removeEventListener("touchend",this.touchEnd)},touchStart:function(e){e.preventDefault(),this.setState({mouseDown:!0}),document.addEventListener("touchend",this.touchEnd)},mouseEnter:function(){this.props.onHighlightDate(this.props.date)},mouseLeave:function(){this.state.mouseDown&&(this.props.onSelectDate(this.props.date),this.setState({mouseDown:!1})),this.props.onUnHighlightDate(this.props.date)},getBemModifiers:function(){var e=this.props,t=e.date,a=e.firstOfMonth,s=e.isToday,i=!1,o=!1;return t.month()!==a.month()&&(i=!0),0!==t.day()&&6!==t.day()||(o=!0),{today:s,weekend:o,otherMonth:i}},getBemStates:function(){var e=this.props,t=e.isSelectedDate,a=e.isInSelectedRange,s=e.isInHighlightedRange,i=e.isHighlightedDate,o=e.isDisabled,n=t||a||s;return{disabled:o,highlighted:i,selected:n}},render:function(){var e=this.props,t=e.date,a=e.dateRangesForDate,s=e.isSelectedDate,i=e.isSelectedRangeStart,n=e.isSelectedRangeEnd,r=e.isInSelectedRange,l=e.isHighlightedDate,d=e.isHighlightedRangeStart,u=e.isHighlightedRangeEnd,c=e.isInHighlightedRange,h=this.getBemModifiers(),f=this.getBemStates(),p=c,v=void 0,y=void 0,D=void 0,S=a(t),k=S.count(),N={},w={},C=void 0,M=void 0;return s||i&&n||d&&u?M="single":i||d?M="start":n||u?M="end":(r||c)&&(M="segment"),l&&(C="single"),1===k?(v=S.getIn([0,"color"]),v&&(w={backgroundColor:v},N={borderLeftColor:(0,m["default"])(v,-10),borderRightColor:(0,m["default"])(v,-10)})):(y=S.getIn([0,"color"]),D=S.getIn([1,"color"]),y&&(N.borderLeftColor=(0,m["default"])(y,-10)),D&&(N.borderRightColor=(0,m["default"])(D,-10))),o["default"].createElement("td",{className:this.cx({element:"Date",modifiers:h,states:f}),style:N,onTouchStart:this.touchStart,onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave,onMouseDown:this.mouseDown},k>1&&o["default"].createElement("div",{className:this.cx({element:"HalfDateStates"})},o["default"].createElement(g["default"],{period:"am",color:y}),o["default"].createElement(g["default"],{period:"pm",color:D})),1===k&&o["default"].createElement("div",{className:this.cx({element:"FullDateStates"}),style:w}),o["default"].createElement("span",{className:this.cx({element:"DateLabel"})},t.format("D")),M?o["default"].createElement(_["default"],{
modifier:M,pending:p}):null,C?o["default"].createElement(b["default"],{modifier:C}):null)}});t["default"]=S,e.exports=t["default"]},1634:function(e,t,a){function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),n=s(o),r=a(1416),l=s(r),d=a(1450),u=s(d),c=n["default"].createClass({displayName:"CalendarDatePeriod",mixins:[l["default"],u["default"]],propTypes:{color:n["default"].PropTypes.string,period:n["default"].PropTypes.string},render:function(){var e=this.props,t=e.color,a=e.period,s=i({},a,!0),o=void 0;return t&&(o={backgroundColor:t}),n["default"].createElement("div",{style:o,className:this.cx({modifiers:s})})}});t["default"]=c,e.exports=t["default"]},1635:function(e,t,a){function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),n=s(o),r=a(1416),l=s(r),d=a(1450),u=s(d),c=n["default"].createClass({displayName:"CalendarHighlight",mixins:[l["default"],u["default"]],propTypes:{modifier:n["default"].PropTypes.string},render:function(){var e=this.props.modifier,t=i({},e,!0),a={};return n["default"].createElement("div",{className:this.cx({states:a,modifiers:t})})}});t["default"]=c,e.exports=t["default"]},1636:function(e,t,a){function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var a={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s]);return a}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},n=a(0),r=s(n),l=a(1),d=s(l);a(1440);var u=a(1529),c=s(u),h=a(156),f=s(h),p=a(1416),m=s(p),v=a(1509),g=s(v),y=a(1453),b=s(y),D=a(1450),_=s(D),S=(0,d["default"])().localeData(),k=f["default"].List(S._weekdays).zip(f["default"].List(S._weekdaysShort)),N=f["default"].List(S._months),w=r["default"].createClass({displayName:"CalendarMonth",mixins:[m["default"],_["default"]],propTypes:{dateComponent:r["default"].PropTypes.func,disableNavigation:r["default"].PropTypes.bool,enabledRange:g["default"].momentRange,firstOfMonth:g["default"].moment,firstOfWeek:r["default"].PropTypes.oneOf([0,1,2,3,4,5,6]),hideSelection:r["default"].PropTypes.bool,highlightedDate:r["default"].PropTypes.object,highlightedRange:r["default"].PropTypes.object,onMonthChange:r["default"].PropTypes.func,onYearChange:r["default"].PropTypes.func,value:g["default"].momentOrMomentRange},renderDay:function(e,t){var a=this.props,s=a.dateComponent,n=a.value,l=a.highlightedDate,u=a.highlightedRange,c=a.hideSelection,h=a.enabledRange,f=i(a,["dateComponent","value","highlightedDate","highlightedRange","hideSelection","enabledRange"]),p=(0,d["default"])(e),m=void 0,v=void 0,g=void 0,y=void 0;return!c&&n&&d["default"].isMoment(n)&&n.isSame(p,"day")?v=!0:!c&&n&&(0,b["default"])(n)&&n.contains(p)&&(m=!0,g=n.start.isSame(p,"day"),y=n.end.isSame(p,"day")),r["default"].createElement(s,o({key:t,isToday:p.isSame((0,d["default"])(),"day"),isDisabled:!h.contains(p),isHighlightedDate:!(!l||!l.isSame(p,"day")),isHighlightedRangeStart:!(!u||!u.start.isSame(p,"day")),isHighlightedRangeEnd:!(!u||!u.end.isSame(p,"day")),isInHighlightedRange:!(!u||!u.contains(p)),isSelectedDate:v,isSelectedRangeStart:g,isSelectedRangeEnd:y,isInSelectedRange:m,date:p},f))},renderWeek:function(e,t){var a=e.map(this.renderDay);return r["default"].createElement("tr",{className:this.cx({element:"Week"}),key:t},a.toJS())},renderDayHeaders:function(){var e=this.props.firstOfWeek,t=f["default"].Range(e,7).concat(f["default"].Range(0,e)),a=t.map(function(e){var t=k.get(e);return r["default"].createElement("th",{className:this.cx({element:"WeekdayHeading"}),key:t,scope:"col"},r["default"].createElement("abbr",{title:t[0]},t[1]))}.bind(this));return r["default"].createElement("tr",{className:this.cx({element:"Weekdays"})},a.toJS())},handleYearChange:function(e){this.props.onYearChange(parseInt(e.target.value,10))},renderYearChoice:function(e){var t=this.props.enabledRange;return e<t.start.year()?null:e>t.end.year()?null:r["default"].createElement("option",{key:e,value:e},e)},renderHeaderYear:function(){var e=this.props.firstOfMonth,t=e.year(),a=f["default"].Range(t-5,t).concat(f["default"].Range(t,t+10)),s=a.map(this.renderYearChoice),i={year:!0};return r["default"].createElement("span",{className:this.cx({element:"MonthHeaderLabel",modifiers:i})},e.format("YYYY"),this.props.disableNavigation?null:r["default"].createElement("select",{className:this.cx({element:"MonthHeaderSelect"}),value:t,onChange:this.handleYearChange},s.toJS()))},handleMonthChange:function(e){this.props.onMonthChange(parseInt(e.target.value,10))},renderMonthChoice:function(e,t){var a=this.props,s=a.firstOfMonth,i=a.enabledRange,o=!1,n=s.year();return(0,d["default"])({years:n,months:t+1,date:1}).unix()<i.start.unix()&&(o=!0),(0,d["default"])({years:n,months:t,date:1}).unix()>i.end.unix()&&(o=!0),r["default"].createElement("option",{key:e,value:t,disabled:o?"disabled":null},e)},renderHeaderMonth:function(){var e=this.props.firstOfMonth,t=N.map(this.renderMonthChoice),a={month:!0};return r["default"].createElement("span",{className:this.cx({element:"MonthHeaderLabel",modifiers:a})},e.format("MMMM"),this.props.disableNavigation?null:r["default"].createElement("select",{className:this.cx({element:"MonthHeaderSelect"}),value:e.month(),onChange:this.handleMonthChange},t.toJS()))},renderHeader:function(){return r["default"].createElement("div",{className:this.cx({element:"MonthHeader"})},this.renderHeaderMonth()," ",this.renderHeaderYear())},render:function(){var e=this.props,t=e.firstOfWeek,a=e.firstOfMonth,s=new c["default"].Calendar(t),i=f["default"].fromJS(s.monthDates(a.year(),a.month())),o=i.map(this.renderWeek);return r["default"].createElement("div",{className:this.cx({element:"Month"})},this.renderHeader(),r["default"].createElement("table",{className:this.cx({element:"MonthDates"})},r["default"].createElement("thead",null,this.renderDayHeaders()),r["default"].createElement("tbody",null,o.toJS())))}});t["default"]=w,e.exports=t["default"]},1637:function(e,t,a){function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),n=s(o),r=a(1416),l=s(r),d=a(1450),u=s(d),c=n["default"].createClass({displayName:"CalendarSelection",mixins:[l["default"],u["default"]],propTypes:{modifier:n["default"].PropTypes.string,pending:n["default"].PropTypes.bool.isRequired},render:function(){var e=this.props,t=e.modifier,a=e.pending,s=i({},t,!0),o={pending:a};return n["default"].createElement("div",{className:this.cx({states:o,modifiers:s})})}});t["default"]=c,e.exports=t["default"]},1638:function(e,t){function a(e,t){return e.start.isSame(t.start,"day")&&e.end.isSame(t.end,"day")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a,e.exports=t["default"]},1639:function(e,t){function a(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.block,a=e.element,s=e.namespace,i=e.modifiers,o=e.states,n=[],r=void 0;return r=a?s?s+"-"+t+"__"+a:t+"__"+a:s?s+"-"+t:t,n.push(r),o&&("object"==typeof o&&(o=Object.keys(o).filter(function(e){return o[e]})),o.forEach(function(e){n.push(r+"--is-"+e)})),i&&("object"==typeof i&&(i=Object.keys(i).filter(function(e){return i[e]})),i.forEach(function(e){n.push(r+"--"+e),o&&o.forEach(function(t){n.push(r+"--"+e+"--is-"+t)})})),n.join(" ")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a,e.exports=t["default"]},1640:function(e,t){function a(e,t){var a=!1,s=void 0,i=void 0,o=void 0,n=void 0;return"#"===e[0]&&(e=e.slice(1),a=!0),s=parseInt(e,16),i=(s>>16)+t,i>255?i=255:i<0&&(i=0),o=(s>>8&255)+t,o>255?o=255:o<0&&(o=0),n=(255&s)+t,n>255?n=255:n<0&&(n=0),(a?"#":"")+(n|o<<8|i<<16).toString(16)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a,e.exports=t["default"]},1641:function(e,t,a){function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(e===t)return!0;var a;for(a in e)if(e.hasOwnProperty(a)){if(!t.hasOwnProperty(a))return!1;if(n["default"].isMoment(e[a])&&n["default"].isMoment(t[a])){if(!e[a].isSame(t[a],"day"))return!1}else if((0,u["default"])(e[a])&&(0,u["default"])(t[a])){if(!(0,l["default"])(e[a],t[a]))return!1}else if(e[a]!==t[a])return!1}for(a in t)if(t.hasOwnProperty(a)&&!e.hasOwnProperty(a))return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0});var o=a(1),n=s(o);a(1440);var r=a(1638),l=s(r),d=a(1453),u=s(d);t["default"]=i,e.exports=t["default"]},1642:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=s(i),n=o["default"].createClass({displayName:"PopupAction",propTypes:{children:o["default"].PropTypes.node.isRequired},getInitialProps:function(){return{onClick:function(){},className:"btn",url:null}},handleClick:function(){return this.props.onClick()},render:function(){var e=this.props.className,t=!1;return this.props.url?("#"!==this.props.url&&(t=!0),t?o["default"].createElement("a",{href:this.props.url,target:"_blank",className:e},this.props.children):o["default"].createElement("a",{target:"_blank",className:e},this.props.children)):o["default"].createElement("button",{onClick:this.handleClick,className:e},this.props.children)}});t["default"]=n},1643:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=s(i),n=a(1642),r=s(n),l=void 0,d=void 0;l=o["default"].createClass({displayName:"PopupFooterButtons",getInitialProps:function(){return{buttons:null,className:null,onOk:null,onClose:null,buttonClick:null,btnClass:null,href:null}},onOk:function(){if(this.props.onOk)return this.props.onOk()},onClose:function(){if(this.props.onClose)return this.props.onClose()},buttonClick:function(e){if(this.props.buttonClick)return this.props.buttonClick(e)},wildClass:function(e,t){if(!e)return null;if(this.props.wildClasses)return e;var a=[],s=e.split(" ");return s.forEach(function(e){a.push(t+"--"+e)}),a.join(" ")},render:function(){if(!this.props.buttons)return null;var e,t,a,s,i=[];for(e=0;e<this.props.buttons.length;e++)t=this.props.buttons[e],s=t.url?t.url:null,"string"==typeof t?"ok"===t?i.push(o["default"].createElement(r["default"],{className:this.props.btnClass+" "+this.props.btnClass+"--ok",key:e,onClick:this.onOk},this.props.defaultOk)):"cancel"===t&&i.push(o["default"].createElement(r["default"],{className:this.props.btnClass+" "+this.props.btnClass+"--cancel",key:e,onClick:this.onClose},this.props.defaultCancel)):(a=this.props.btnClass+" "+this.wildClass(t.className,this.props.btnClass),i.push(o["default"].createElement(r["default"],{className:a,key:e,url:s,onClick:this.buttonClick.bind(this,t.action)},t.text)));return o["default"].createElement("div",{className:this.props.className},i)}}),d=o["default"].createClass({displayName:"PopupFooter",getInitialProps:function(){return{buttons:null,className:null,wildClasses:!1,btnClass:null,defaultOk:null,defaultCancel:null,buttonClick:null,onOk:null,onClose:null}},render:function(){return this.props.buttons?o["default"].createElement("footer",{className:this.props.className},o["default"].createElement(l,{buttonClick:this.props.buttonClick,onOk:this.props.onOk,onClose:this.props.onClose,className:this.props.className+"__left-space",wildClasses:this.props.wildClasses,btnClass:this.props.btnClass,defaultOk:this.props.defaultOk,defaultCancel:this.props.defaultCancel,buttons:this.props.buttons.left}),o["default"].createElement(l,{buttonClick:this.props.buttonClick,onOk:this.props.onOk,onClose:this.props.onClose,className:this.props.className+"__right-space",wildClasses:this.props.wildClasses,btnClass:this.props.btnClass,defaultOk:this.props.defaultOk,defaultCancel:this.props.defaultCancel,buttons:this.props.buttons.right})):null}}),t["default"]=d},1644:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=s(i),n=o["default"].createClass({displayName:"PopupHeader",getInitialProps:function(){return{title:null,className:null}},render:function(){return this.props.title?o["default"].createElement("header",{className:this.props.className},o["default"].createElement("h1",{className:this.props.className+"__title"},this.props.title)):null}});t["default"]=n},1645:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=s(i),n=a(25),r=s(n),l=o["default"].createClass({displayName:"PopupInput",getInitialState:function(){return{value:this.props.value}},getInitialProps:function(){return{className:"input",value:"",placeholder:"",type:"text",onChange:function(){}}},componentDidMount:function(){r["default"].findDOMNode(this).focus()},handleChange:function(e){this.setState({value:e.target.value}),this.props.onChange(e.target.value)},render:function(){var e=this.props.className;return o["default"].createElement("input",{value:this.state.value,className:e,placeholder:this.props.placeholder,type:this.props.type,onChange:this.handleChange})}});t["default"]=l},1646:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i,o,n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},r=a(0),l=s(r),d=a(1427),u=s(d),c=a(1644),h=s(c),f=a(1643),p=s(f),m=a(1645),v=s(m),g=u["default"].EventEmitter,y="show",b="close",D={},_={};i=n({},g.prototype,{id:1,popups:{},queue:[],active:null,value:null,getId:function(){return"id_"+this.id++},activePopup:function(){return this.popups[this.active]},close:function(){if(!this.active)return!1;var e=this.active;return this.active=null,this.emit(b),this.dispatch(),this.value=null,e},dispatch:function(){if(this.active||this.queue.length<1)return!1;var e=this.queue.shift();this.active=e,this.emit(y)}}),o=l["default"].createClass({displayName:"Popup",getInitialState:function(){var e={title:null,buttons:!1,content:null,visible:!1,className:null,noOverlay:!1,position:!1,wildClasses:!1};return _=e,e},getDefaultProps:function(){return{className:"mm-popup",btnClass:"mm-popup__btn",inputClass:"mm-popup__input",closeBtn:!0,closeHtml:null,defaultOk:"Ok",defaultCancel:"Cancel"}},statics:{plugins:{},addShowListener:function(e){i.on(y,e)},removeShowListener:function(e){i.removeListener(y,e)},addCloseListener:function(e){i.on(b,e)},removeCloseListener:function(e){i.removeListener(b,e)},register:function(e){var t=i.getId();return e=n({},_,e),i.popups[t]=e,t},queue:function(e){return!!i.popups.hasOwnProperty(e)&&(i.queue.push(e),i.dispatch(),e)},create:function(e){var t=this.register(e);return this.queue(t),t},alert:function(e,t,a){var s={title:t,content:e,buttons:{right:["ok"]}};return a?this.register(s):this.create(s)},prompt:function(e,t,a,s,o){function n(e){i.value=e}s||(s="ok"),a||(a={value:"",placeholder:"",type:"text"});var r,d;t&&(t=l["default"].createElement("p",null,t)),r=l["default"].createElement("div",null,t,l["default"].createElement(v["default"],{value:a.value,placeholder:a.placeholder,type:a.type,className:D.inputClass,onChange:n}));var d={title:e,content:r,buttons:{left:["cancel"],right:[s]}};return o?this.register(d):this.create(d)},close:function(){i.close()},getValue:function(){return i.value},registerPlugin:function(e,t){this.plugins[e]=t.bind(this)}},componentDidMount:function(){var e,t=this;i.on(y,function(){e=i.activePopup(),t.setState({title:e.title,content:e.content,buttons:e.buttons,visible:!0,className:e.className,noOverlay:e.noOverlay,position:e.position})}),D=this.props,i.on(b,function(){t.setState(t.getInitialState())})},componentDidUpdate:function(){var e=this.refs.box;if(e){if(!this.state.position)return e.style.opacity=1,e.style.top=null,e.style.left=null,e.style.margin=null,!1;if("function"==typeof this.state.position)return this.state.position.call(null,e);e.style.top=parseInt(this.state.position.y,10)+"px",e.style.left=parseInt(this.state.position.x,10)+"px",e.style.margin=0,e.style.opacity=1}},hasClass:function(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},className:function(e){return this.props.className+"__"+e},wildClass:function(e,t){if(!e)return null;if(this.props.wildClasses)return e;var a=[],s=e.split(" ");return s.forEach(function(e){a.push(t+"--"+e)}),a.join(" ")},onClose:function(){i.close()},handleButtonClick:function(e){if("function"==typeof e)return e.call(this,i)},containerClick:function(e){this.hasClass(e.target,this.props.className)&&this.onClose()},render:function(){var e,t,a,s=this.props.className,i={};return this.state.visible&&(s+=" "+this.props.className+"--visible",this.props.closeBtn&&(t=l["default"].createElement("button",{onClick:this.onClose,className:this.props.className+"__close"},this.props.closeHtml)),a=this.className("box"),this.state.className&&(a+=" "+this.wildClass(this.state.className,a)),e=l["default"].createElement("article",{ref:"box",style:{opacity:0},className:a},t,l["default"].createElement(h["default"],{title:this.state.title,className:this.className("box__header")}),l["default"].createElement("div",{className:this.className("box__body")},this.state.content),l["default"].createElement(p["default"],{className:this.className("box__footer"),wildClasses:this.props.wildClasses,btnClass:this.props.btnClass,buttonClick:this.handleButtonClick,onClose:this.onClose,onOk:this.onClose,defaultOk:this.props.defaultOk,defaultCancel:this.props.defaultCancel,buttons:this.state.buttons}))),this.state.noOverlay&&(i.background="transparent"),l["default"].createElement("div",{onClick:this.containerClick,className:s,style:i},e)}}),t["default"]=o},1648:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,a=[],s=0;s<e.rangeCount;s++)a.push(e.getRangeAt(s));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||a.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},9:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,a,s,i){var o=t&&t.defaultProps,n=arguments.length-3;if(a||0===n||(a={}),a&&o)for(var r in o)void 0===a[r]&&(a[r]=o[r]);else a||(a=o||{});if(1===n)a.children=i;else if(n>1){for(var l=Array(n),d=0;d<n;d++)l[d]=arguments[d+3];a.children=l}return{$$typeof:e,type:t,key:void 0===s?null:""+s,ref:null,props:a,_owner:null}}}(),l=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),d=a(0),u=(s(d),a(12)),c=r("div",{}),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),l(t,[{key:"componentWillMount",value:function(){u.browserHistory.push("/access-denied")}},{key:"render",value:function(){return c}}]),t}(d.Component);t["default"]=h}});